(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{zZhv:function(e,t,i){"use strict";i.r(t),i.d(t,"BookingModule",(function(){return xe}));var n=i("ofXK"),c=i("tyNb"),o=i("XgRA"),a=i("un/a"),r=i("fXoL"),l=i("5y69"),s=i("4a3I"),d=i("Uqko"),f=i("fmQQ"),g=i("Oivw"),p=i("tk/3");let u=(()=>{class e{constructor(e){this.http=e}getAll(e,t){return this.http.post(g.a.apiUrl+"/building/venue-unit"+t,e)}register(e){return this.http.post(g.a.apiUrl+"/building/venue-unit/register",e)}getById(e){return this.http.get(g.a.apiUrl+"/building/venue-unit/"+e)}delete(e){return this.http.delete(`${g.a.apiUrl}/building/venue-unit/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.jc(p.b))},e.\u0275prov=r.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=i("f5O9"),h=i("kmnG"),v=i("d3UM"),b=i("FKr1"),x=i("Wp6s"),y=i("wf0l"),C=i("bTqV");function w(e,t){if(1&e&&(r.fc(0,"mat-option",18),r.Yc(1),r.ec()),2&e){const e=t.$implicit;r.zc("value",e),r.Lb(1),r.Zc(e.name)}}function O(e,t){if(1&e&&(r.fc(0,"mat-option",18),r.Yc(1),r.ec()),2&e){const e=t.$implicit;r.zc("value",e._id),r.Lb(1),r.Zc(e.name)}}function L(e,t){if(1&e&&(r.fc(0,"mat-card",21),r.fc(1,"div",22),r.fc(2,"div"),r.ac(3,"img",23),r.ec(),r.fc(4,"div",24),r.fc(5,"div",22),r.fc(6,"div"),r.fc(7,"h2",25),r.Yc(8),r.ec(),r.ec(),r.fc(9,"div",26),r.fc(10,"a",27),r.qc(),r.fc(11,"svg",28),r.ac(12,"path",29),r.ec(),r.ec(),r.ec(),r.ec(),r.pc(),r.fc(13,"div",22),r.fc(14,"div",30),r.Yc(15," Available "),r.ec(),r.fc(16,"div",31),r.fc(17,"p",22),r.qc(),r.fc(18,"svg",32),r.ac(19,"path",33),r.ac(20,"path",34),r.ec(),r.Yc(21),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.pc(),r.fc(22,"div",35),r.fc(23,"button",36),r.Yc(24,"Book"),r.ec(),r.ec(),r.ec()),2&e){const e=t.$implicit,i=r.rc(2);r.Lb(3),r.zc("lazyLoad",i.imgSrc("venue",null==e.image?null:e.image.name)),r.Lb(5),r.bd("",null==e||null==e.spaceType?null:e.spaceType.name," ",e.name,""),r.Lb(2),r.zc("routerLink","/booking/room/view/"+e._id),r.Lb(11),r.ad(" ",e.capacity," "),r.Lb(2),r.zc("routerLink","/booking/confirm/"+e._id)}}function k(e,t){if(1&e&&(r.fc(0,"div",37),r.ac(1,"img",38),r.fc(2,"h3"),r.Yc(3),r.ec(),r.ec()),2&e){const e=r.rc(2);r.Lb(3),r.ad("",e.spaceType.name," Rooms Not Available !")}}function _(e,t){if(1&e&&(r.fc(0,"div"),r.fc(1,"div"),r.Wc(2,L,25,6,"mat-card",19),r.ec(),r.Wc(3,k,4,1,"div",20),r.ec()),2&e){const e=r.rc();r.Lb(2),r.zc("ngForOf",e.vacentInventory),r.Lb(1),r.zc("ngIf",0==e.vacentInventory.length)}}let M=(()=>{class e{constructor(e,t,i,n,c,o,a){this.activatedRoute=e,this.utilService=t,this.spaceTypeService=i,this.inventoryService=n,this.imageService=c,this.venueUnitService=o,this.alertService=a,this.displayedColumns=["inventoryName","category","seater","floor","duration","startingTime","status","action"],this.floorLoading=!1,this.inventory=[],this.floors=[],this.book=0,this.step=1,this.venue={},this.spaceType={},this.vacentInventory=[],this.vacentCount=0,this.loading=!1,this.departments={},this.brand={},this.query={},this.building={},this.selectedFloor="All",this.selectedSpaceType="All",this.spaceTypes=[]}ngOnInit(){var e,t;this.brand=this.utilService.getBrand(),this.venue=this.utilService.getVenue(),this.building=this.utilService.getBuilding(),this.loadAllSpaceType("6065428d17d9243720f34eb8"),this.activatedRoute.params.subscribe(e=>{this.objectId=e.id,this.objectId&&this.loadVacentInventory({})});let i={building:null===(e=this.building)||void 0===e?void 0:e._id,venue:null===(t=this.venue)||void 0===t?void 0:t._id};this.loadAllFloors(i,"")}loadAllFloors(e,t){this.floorLoading=!0,this.venueUnitService.getAll(e,t).pipe(Object(a.a)(2)).subscribe(e=>{0==e.data.length&&this.alertService.error("Floor Not Availale!"),this.floors=[],e.data.forEach(e=>{this.utilService.getIndex(this.floors,"_id",e.floor._id)<0&&this.floors.push(e.floor)}),this.floorLoading=!1})}selectFloor(e){this.query.floor=e._id,this.spaceType&&(this.query.inventoryType=this.spaceType._id),this.objectId&&(this.query.objectId=this.objectId),this.loadVacentInventory(this.query)}loadAllSpaceType(e){this.spaceTypes=[],this.spaceTypeService.getAll({objectType:e,brand:this.brand._id}).pipe(Object(a.a)(2)).subscribe(e=>{this.spaceTypes=e.data})}loadSpaceType(e){this.spaceTypeService.getById(e).pipe(Object(a.a)(2)).subscribe(e=>{var t,i;this.spaceType=e,this.spaceName=null===(i=null===(t=this.spaceType)||void 0===t?void 0:t.name)||void 0===i?void 0:i.replace("s",""),this.loadVacentInventory({objectId:this.spaceType._id})})}loadVacentInventory(e){this.loading=!0,e.brand=this.brand._id,e.venue=this.venue._id,this.inventoryService.getAll(e,"").pipe(Object(a.a)(2)).subscribe(e=>{this.vacentCount=e.count,this.vacentInventory=e.data,this.loading=!1})}imgSrc(e,t){return this.imageService.getImageUrl(e,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(c.a),r.Zb(l.a),r.Zb(s.a),r.Zb(d.a),r.Zb(f.a),r.Zb(u),r.Zb(m.a))},e.\u0275cmp=r.Tb({type:e,selectors:[["app-meeting-room"]],decls:31,vars:5,consts:[[1,"container-fluid","p-0"],[1,"box-container","mx-auto"],[1,"header"],["onclick","history.back()",1,"d-flex","align-items-center","text-dark"],["width","38","height","39","viewBox","0 0 38 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","19","cy","19.7747","r","18.5","stroke","#6C757D"],["d","M8.76354 19.3351L13.9963 14.3406C14.3868 13.9661 15.0228 13.9661 15.4133 14.3454C15.8039 14.72 15.8039 15.3299 15.4083 15.7045L11.8932 19.0566H29.4419C29.9927 19.0566 30.4434 19.4888 30.4434 20.0171C30.4434 20.5453 29.9927 20.9775 29.4419 20.9775H11.8932L15.4083 24.3296C15.7989 24.7042 15.8039 25.3141 15.4133 25.6887C15.0228 26.0633 14.3868 26.0681 13.9963 25.6935L8.76354 20.699C8.36796 20.3196 8.37297 19.7097 8.76354 19.3351Z","fill","#6C757D"],[1,"ml-2"],[1,"firstBox"],[1,"boxContent"],[1,"row"],[1,"col-6","px-2"],["appearance","outline",1,"w-100"],[3,"value","selectionChange"],["value","All"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"meeting-room"],[3,"value"],["class","room-card mb-3",4,"ngFor","ngForOf"],["class","text-center d-flex flex-column align-self-center mx-auto",4,"ngIf"],[1,"room-card","mb-3"],[1,"d-flex"],["defaultImage","/assets/image/ScanQr/defaltRoom.svg","width","76","height","76","alt","",1,"meeting-img",3,"lazyLoad"],[1,"d-flex","flex-column","pl-3"],[1,"mb-3"],[1,"ml-auto","position-absolute",2,"right","16px"],[1,"link",3,"routerLink"],["width","22","height","12","viewBox","0 0 22 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M21.3307 5.09294L16.2756 0.270675C15.8983 -0.0909942 15.2839 -0.0909942 14.9066 0.275312C14.5293 0.636982 14.5293 1.22585 14.9114 1.58752L18.3073 4.824H1.3542C0.822087 4.824 0.386719 5.24131 0.386719 5.75136C0.386719 6.26141 0.822087 6.67872 1.3542 6.67872H18.3073L14.9114 9.9152C14.5341 10.2769 14.5293 10.8657 14.9066 11.2274C15.2839 11.5891 15.8983 11.5937 16.2756 11.232L21.3307 6.40979C21.7128 6.04348 21.708 5.45461 21.3307 5.09294Z","fill","#176CFF"],[1,"bg-available"],[1,"ml-5"],["width","19","height","19","viewBox","0 0 19 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.9434 9.62134C10.9434 10.0678 11.238 10.3643 11.6817 10.3643C13.7548 10.3643 15.3806 8.7319 15.3806 6.6461C15.3806 4.5603 13.7548 2.92444 11.6817 2.92444C11.238 2.92444 10.9434 3.2244 10.9434 3.67086C10.9434 4.11732 11.238 4.4138 11.6817 4.4138C12.9401 4.4138 13.9004 5.37997 13.9004 6.6461C13.9004 7.91223 12.9401 8.8784 11.6817 8.8784C11.238 8.8784 10.9434 9.17488 10.9434 9.62134ZM15.3806 14.8324C15.3806 15.2788 15.6753 15.5753 16.119 15.5753C16.5627 15.5753 16.8609 15.2753 16.9337 14.8359C16.9337 13.2733 15.5297 11.8571 13.3839 11.3374C13.013 11.1875 12.5692 11.4839 12.4964 11.8571C12.3474 12.2304 12.642 12.6768 13.013 12.7501C14.4204 13.0465 15.3806 13.9395 15.3806 14.8324Z","fill","#6C757D"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.24402 10.3642C5.17446 10.3642 3.54516 8.72829 3.54516 6.64249C3.54516 4.55669 5.17446 2.92432 7.24402 2.92432C9.31357 2.92432 10.9429 4.56017 10.9429 6.64598C10.9429 8.73178 9.31704 10.3642 7.24402 10.3642ZM10.9428 14.8324C10.9428 15.2789 11.2375 15.5754 11.6812 15.5754C12.125 15.5754 12.4231 15.2754 12.4196 14.8289C12.4196 12.7431 10.1282 11.1073 7.24399 11.1073C4.35978 11.1073 2.06836 12.7466 2.06836 14.8289C2.06836 15.2754 2.36302 15.5754 2.80674 15.5754C3.25047 15.5754 3.54513 15.2789 3.54513 14.8324C3.54513 13.643 5.24723 12.6001 7.24399 12.6001C9.24075 12.6001 10.9428 13.643 10.9428 14.8324Z","fill","#6C757D"],[1,"pt-3"],["mat-stroked-button","",1,"py-1","bookBtn","w-100",3,"routerLink"],[1,"text-center","d-flex","flex-column","align-self-center","mx-auto"],["src","/assets//image/empty-space.svg","alt",""]],template:function(e,t){1&e&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div",2),r.fc(3,"div"),r.fc(4,"a",3),r.qc(),r.fc(5,"svg",4),r.ac(6,"circle",5),r.ac(7,"path",6),r.ec(),r.pc(),r.fc(8,"span",7),r.Yc(9," Back"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(10,"div",8),r.fc(11,"div",9),r.fc(12,"div",10),r.fc(13,"div",11),r.fc(14,"mat-form-field",12),r.fc(15,"mat-label"),r.Yc(16,"Select Floor"),r.ec(),r.fc(17,"mat-select",13),r.nc("selectionChange",(function(e){return t.selectFloor(e.value)})),r.fc(18,"mat-option",14),r.Yc(19,"All"),r.ec(),r.Wc(20,w,2,2,"mat-option",15),r.ec(),r.ec(),r.ec(),r.fc(21,"div",11),r.fc(22,"mat-form-field",12),r.fc(23,"mat-label"),r.Yc(24,"Select Room"),r.ec(),r.fc(25,"mat-select",13),r.nc("selectionChange",(function(e){return t.loadSpaceType(e.value)})),r.fc(26,"mat-option",14),r.Yc(27,"All"),r.ec(),r.Wc(28,O,2,2,"mat-option",15),r.ec(),r.ec(),r.ec(),r.ec(),r.Wc(29,_,4,2,"div",16),r.ec(),r.ec(),r.ec(),r.ec(),r.ac(30,"div",17)),2&e&&(r.Lb(17),r.zc("value",t.selectedFloor),r.Lb(3),r.zc("ngForOf",t.floors),r.Lb(5),r.zc("value",t.selectedSpaceType),r.Lb(3),r.zc("ngForOf",t.spaceTypes),r.Lb(1),r.zc("ngIf",!t.loading))},directives:[h.c,h.f,v.a,b.n,n.m,n.n,x.a,y.b,c.h,C.b,c.f],styles:[".box-container[_ngcontent-%COMP%]{height:100vh;background:#efefef}.box-container[_ngcontent-%COMP%], .firstBox[_ngcontent-%COMP%]{width:100%;max-width:480px}.firstBox[_ngcontent-%COMP%]{background:#c3e6f9;height:342px;padding:26px;margin:auto}.boxContent[_ngcontent-%COMP%]{background:#fff;box-shadow:-5px 5px 55px hsla(0,0%,78.8%,.25);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding:20px;position:relative;top:40px}.header[_ngcontent-%COMP%]{background:#feeae6;height:70px;display:flex;justify-content:space-between;align-items:center;position:sticky;z-index:10000;top:0;padding-left:15px}.boxContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:500;font-size:17px;line-height:135%;letter-spacing:.02em;color:#121212;width:140px}.bookBtn[_ngcontent-%COMP%]{position:relative;top:14px;border:1px solid #176cff!important;border-radius:7px;color:#176cff!important;background:#fff}.filters[_ngcontent-%COMP%]{padding:15px 25px 15px 10px}.font-bold[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-weight:500!important}mat-label[_ngcontent-%COMP%]{font-family:Poppins!important;font-style:normal;font-weight:400;font-size:14px;line-height:26px;color:#4d4d4d}mat-option[_ngcontent-%COMP%]{line-height:1px;color:#4d4d4d}mat-option[_ngcontent-%COMP%], mat-select[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:500;font-size:14px}mat-select[_ngcontent-%COMP%]{line-height:14px;align-items:center;color:#000} .mat-form-field-outline{background:#f8f8f8!important}mat-checkbox-label[_ngcontent-%COMP%], mat-radio-label-content[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:300;font-size:14px;line-height:21px;color:#000}.room-card[_ngcontent-%COMP%]{background:#f8f8f8;padding:10px 16px;box-shadow:none!important;border:1px solid #d2d2d2;border-radius:20px;height:187px}.room-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;line-height:1px}.meeting-img[_ngcontent-%COMP%]{border-radius:6px}.meeting-img-small[_ngcontent-%COMP%]{border-radius:6px;width:42px;height:42px;margin:6px 0}.link[_ngcontent-%COMP%]{font-weight:500;font-family:Poppins;font-size:14px}table[_ngcontent-%COMP%]{width:100%}.book-btn[_ngcontent-%COMP%]{background:#c3e6f9!important;padding:0!important;height:25px!important;font-weight:700!important}.view-btn[_ngcontent-%COMP%]{background:#f8f9fa!important;padding:0!important;height:25px!important;color:#4d4d4d;font-weight:500;border:1px solid #adb5bd!important}.bg-available[_ngcontent-%COMP%], .view-btn[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-size:14px}.bg-available[_ngcontent-%COMP%]{background:#daf6e7;border-radius:4px;flex-direction:row;justify-content:center;padding:5.25px 9.75px;font-weight:400;line-height:20px;display:flex;align-items:center;text-align:center;color:#198754;width:84.5px;height:30.5px}"]}),e})();var P=i("3Pt+"),S=i("Da6A"),I=i("IYaI"),Y=i("wd/R");let z=(()=>{class e{constructor(e){this.http=e}getAll(e,t){return this.http.post(g.a.apiUrl+"/order/booking"+t,e)}register(e){return this.http.post(g.a.apiUrl+"/order/booking/register",e)}update(e){return this.http.put(g.a.apiUrl+"/order/booking",e)}getById(e){return this.http.get(g.a.apiUrl+"/order/booking/"+e)}delete(e){return this.http.delete(`${g.a.apiUrl}/order/booking/${e}`)}getAvailableSlots(e,t){return this.http.post(g.a.apiUrl+"/order/booking/available-slots"+t,e)}avgBookingCount(e){return this.http.post(g.a.apiUrl+"/order/analytics/avgBookingCount",e)}dailyBookingCount(e){return this.http.post(g.a.apiUrl+"/order/analytics/dailyBookingCount",e)}mostBookingInventory(e){return this.http.post(g.a.apiUrl+"/order/analytics/mostBookingInventory",e)}}return e.\u0275fac=function(t){return new(t||e)(r.jc(p.b))},e.\u0275prov=r.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var F=i("pW6c"),T=i("mpdi"),B=i("0IaG"),D=i("VITL"),Z=i("qFsG"),j=i("t34c"),A=i("/1cH"),U=i("NFeN"),W=i("A5z7"),H=i("A8xZ"),q=i("f0Cb");function V(e,t){if(1&e&&(r.fc(0,"h6",58),r.Yc(1),r.ec()),2&e){const e=r.rc().$implicit;r.Lb(1),r.ad(" ",e.designation.name," ")}}function R(e,t){if(1&e){const e=r.gc();r.fc(0,"mat-option",51),r.nc("click",(function(){r.Pc(e);const i=t.$implicit;return r.rc().selectGuest(i)})),r.fc(1,"div",52),r.fc(2,"div",53),r.ac(3,"app-profile-image",54),r.ec(),r.fc(4,"div",55),r.fc(5,"h2",56),r.Yc(6),r.ec(),r.Wc(7,V,2,1,"h6",57),r.ec(),r.ec(),r.ac(8,"mat-divider"),r.ec()}if(2&e){const e=t.$implicit;r.zc("value",e),r.Lb(3),r.zc("user",e),r.Lb(3),r.Zc(e.name),r.Lb(1),r.zc("ngIf",e.designation)}}function $(e,t){if(1&e){const e=r.gc();r.fc(0,"mat-chip",59),r.nc("removed",(function(){r.Pc(e);const i=t.$implicit;return r.rc().remove(i)})),r.Yc(1),r.fc(2,"a",60),r.fc(3,"mat-icon"),r.Yc(4,"cancel"),r.ec(),r.ec(),r.ec()}if(2&e){const e=t.$implicit;r.Lb(1),r.ad(" ",e.name," "),r.Lb(1),r.Mb("aria-label","remove "+e)}}function E(e,t){if(1&e){const e=r.gc();r.fc(0,"mat-option",63),r.nc("click",(function(){r.Pc(e);const i=t.$implicit;return r.rc(2).selectedTime(i.slot)})),r.Yc(1),r.sc(2,"date"),r.ec()}if(2&e){const e=t.$implicit;r.zc("value",e.slot),r.Lb(1),r.Zc(r.uc(2,2,e.slot,"shortTime"))}}function N(e,t){if(1&e&&(r.fc(0,"mat-form-field",24),r.fc(1,"mat-label"),r.Yc(2,"booking start time"),r.ec(),r.fc(3,"mat-select",61),r.Wc(4,E,3,5,"mat-option",62),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(4),r.zc("ngForOf",e.availableSlots)}}let G=(()=>{class e{constructor(e,t,i,n,c,o,a,r,l,s,d,f){this.router=e,this.formBuilder=t,this.activatedRoute=i,this.utilService=n,this.inventoryService=c,this.imageService=o,this.bookingService=a,this.alertService=r,this.authenticationService=l,this.searchService=s,this.dialog=d,this.userService=f,this.brand={},this.venue={},this.inventory={},this.submitted=!1,this.loading=!1,this.slotLoading=!1,this.availableSlots=[],this.currentUser={},this.members=[],this.duration="30 min",this.hostList=[],this.usersList=[],this.host={},this.currentUser=this.authenticationService.currentUserValue}ngOnInit(){this.brand=this.utilService.getBrand(),this.venue=this.utilService.getVenue(),this.activatedRoute.params.subscribe(e=>{const t=e.id;t&&this.loadVacentInventory(t)}),this.registerForm=this.formBuilder.group({_id:[null],title:[""],inventoryType:["",P.v.required],host:[""],spaceType:["",P.v.required],inventory:["",P.v.required],startDate:[(new Date).toISOString(),P.v.required],endDate:[(new Date).toISOString(),P.v.required],startTime:[this.utilService.timeToInput(new Date),P.v.required],endTime:[this.utilService.timeToInput(Object(S.a)(new Date,1)),P.v.required],paymentType:["Online"],name:[""],purpose:["Meeting"],email:[""],duration:["30"],description:[""]});let e=new Date;this.dayStartHour=e.getHours(),e.setHours(23,59,59,59),this.dayEndHour=this.dayStartHour+8<e.getHours()?this.dayStartHour+8:e.getHours(),this.loadAllUser({objectId:this.brand._id},""),this.allocateHost(this.currentUser)}get f(){return this.registerForm.controls}loadVacentInventory(e){this.loading=!0,this.inventoryService.getById(e).pipe(Object(a.a)(2)).subscribe(e=>{var t;this.inventory=e,this.loading=!1,this.registerForm.patchValue({inventoryType:this.inventory.inventoryType,spaceType:null===(t=this.inventory.spaceType)||void 0===t?void 0:t._id,inventory:this.inventory._id})})}imgSrc(e,t){return this.imageService.getImageUrl(e,t)}loadAvailableSlots(e){if(!this.inventory._id)return;this.duration=this.utilService.transformMinute(e),this.registerForm.patchValue({duration:e});let t=(i=Object(I.a)(new Date(this.registerForm.value.startDate),15),new Date(9e5*Math.round(i/9e5)));var i;let n=new Date;n.setHours(23,59,59,999);let c={inventory:this.inventory._id,startDate:t.toISOString(),endDate:n.toISOString(),duration:e};this.slotLoading=!0,this.bookingService.getAvailableSlots(c,"").pipe(Object(a.a)(2)).subscribe(e=>{e.forEach(e=>{e.available&&this.availableSlots.push(e)}),this.slotLoading=!1})}selectedTime(e){e=new Date(e),this.updateTime(e,this.registerForm.value.duration)}updateTime(e,t){t&&this.registerForm.patchValue({startDate:e.toISOString(),endDate:Object(I.a)(e,1*t).toISOString()})}onSubmit(){var e,t,i;if(this.submitted=!0,this.registerForm.invalid)return void this.alertService.error("Please Provide Required Details!");this.loading=!0;let n=this.registerForm.value;delete n.name,delete n.email,n.venue=this.venue._id,n.host=null===(e=this.currentUser)||void 0===e?void 0:e._id,n.user=null===(t=this.currentUser)||void 0===t?void 0:t._id,n.seat=this.inventory.capacity,n.inventoryType=this.inventory.inventoryType,n.spaceType=this.inventory.spaceType?this.inventory.spaceType._id:"",n.inventory=this.inventory?this.inventory._id:"",n.brand=this.brand._id,n.status="Created",n.creator=null===(i=this.currentUser)||void 0===i?void 0:i._id,n.members=[],this.members.forEach(e=>{e.email&&n.members.push(e._id)}),n.startDate=Y.utc(n.startDate),n.endDate=Y.utc(n.endDate),this.bookingService.register(n).pipe(Object(a.a)(2)).subscribe(e=>{this.alertService.success("Booked Successfully!"),this.loading=!1,this.router.navigate(["booking/details/"+e._id])})}selectGuest(e){this.inventory.capacity>this.members.length?this.utilService.getObject(this.members,"_id",e._id)||this.members.push(e):this.alertService.error("Guest Limit Reached For This Room!")}removeGuest(e){this.members.splice(e,1)}allocateHost(e){this.host=e,this.registerForm.controls.host.setValue(this.host)}searchData(e,t,i){var n=this;this.searchService.onChangeSearch(e,{},t,(function(e){"host"==i?(n.hostList=[],e.data.forEach(e=>{e.user&&n.hostList.push(e.user)}),n.filteredHostOptions=n.utilService.filterForm(n.registerForm.controls.host,n.hostList)):"guest"==i&&(n.usersList=[],e.data.forEach(e=>{e.user&&n.usersList.push(e.user)}),n.filteredLessorOptions=n.utilService.filterForm(n.registerForm.controls.name,n.usersList))}))}displayFn(e){return e&&e.name?e.name:""}loadAllUser(e,t){this.userService.getAll(e,t).pipe(Object(a.a)(2)).subscribe(e=>{this.usersList=[],this.hostList=[],e.data.forEach(e=>{e.user&&e.user.email&&(this.hostList.push(e.user),this.usersList.push(e.user))}),this.filteredHostOptions=this.utilService.filterForm(this.registerForm.controls.host,this.hostList),this.filteredLessorOptions=this.utilService.filterForm(this.registerForm.controls.name,this.usersList)})}previewlogo(){}remove(e){const t=this.members.indexOf(e);t>=0&&this.members.splice(t,1)}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(c.e),r.Zb(P.d),r.Zb(c.a),r.Zb(l.a),r.Zb(d.a),r.Zb(f.a),r.Zb(z),r.Zb(m.a),r.Zb(F.a),r.Zb(T.a),r.Zb(B.b),r.Zb(D.a))},e.\u0275cmp=r.Tb({type:e,selectors:[["app-meeting-book"]],decls:99,vars:15,consts:[[1,"container-fluid","p-0"],[1,"box-container","mx-auto"],[1,"header"],["onclick","history.back()",1,"d-flex","align-items-center","text-dark"],["width","38","height","39","viewBox","0 0 38 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","19","cy","19.7747","r","18.5","stroke","#6C757D"],["d","M8.76354 19.3351L13.9963 14.3406C14.3868 13.9661 15.0228 13.9661 15.4133 14.3454C15.8039 14.72 15.8039 15.3299 15.4083 15.7045L11.8932 19.0566H29.4419C29.9927 19.0566 30.4434 19.4888 30.4434 20.0171C30.4434 20.5453 29.9927 20.9775 29.4419 20.9775H11.8932L15.4083 24.3296C15.7989 24.7042 15.8039 25.3141 15.4133 25.6887C15.0228 26.0633 14.3868 26.0681 13.9963 25.6935L8.76354 20.699C8.36796 20.3196 8.37297 19.7097 8.76354 19.3351Z","fill","#6C757D"],[1,"ml-2"],[1,"firstBox"],[1,"boxContent"],[3,"formGroup","ngSubmit"],[1,"d-flex"],[1,"ml-auto","float-right","d-flex"],[1,"mr-3"],["type","button","mat-stroked-button","","color","accent",1,"discard",3,"routerLink"],["mat-button","","color","primary"],[1,"card","my-3","p-2",2,"max-width","100%"],[1,"row","no-gutters"],[1,"col-4"],["defaultImage","/assets/image/ScanQr/meetingRoom.svg","width","100%","height","100%","alt","",1,"meeting-img",3,"lazyLoad"],[1,"col-8"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["appearance","outline",1,"full-width","w-100"],["matInput","","placeholder","Enter title","formControlName","title"],["formControlName","purpose","placeholder","Select purpose"],["value","Meeting"],["value","Interview"],["value","Sales"],["value","Family and Friends"],["value","Courier"],["value","Event"],["value","Other"],["type","text","placeholder","Invite Attendee","aria-label","Number","matInput","",3,"matAutocomplete","keyup"],["matSuffix","",1,"position-relative",2,"top","-2px"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.25001 11.5C9.1495 11.5 11.5 9.1495 11.5 6.25001C11.5 3.35051 9.1495 1 6.25001 1C3.35051 1 1 3.35051 1 6.25001C1 9.1495 3.35051 11.5 6.25001 11.5Z","stroke","black","stroke-linecap","round","stroke-linejoin","round"],["d","M9.96289 9.96265L13.0004 13.0002","stroke","black","stroke-linecap","round","stroke-linejoin","round"],[3,"displayWith"],["lessorAuto","matAutocomplete"],["style","line-height:45px !important;","class","my-1",3,"value","click",4,"ngFor","ngForOf"],["aria-label","selection"],[3,"removed",4,"ngFor","ngForOf"],["formControlName","duration","placeholder","booking duration",3,"selectionChange"],["value","15"],["value","30"],["value","60"],["value","90"],["value","120"],["appearance","outline","class","full-width w-100",4,"ngIf"],[1,"my-1",2,"line-height","45px !important",3,"value","click"],[1,"d-flex","flex-row","my-1"],[2,"place-self","center"],[3,"user"],[1,"ml-2","align-self-center"],[1,"user-text","mb-0","font-weight-bold"],["class","mb-0 sub-text",4,"ngIf"],[1,"mb-0","sub-text"],[3,"removed"],["matChipRemove",""],["placeholder","booking start time"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]],template:function(e,t){if(1&e&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div",2),r.fc(3,"div"),r.fc(4,"a",3),r.qc(),r.fc(5,"svg",4),r.ac(6,"circle",5),r.ac(7,"path",6),r.ec(),r.pc(),r.fc(8,"span",7),r.Yc(9," Back"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(10,"div",8),r.fc(11,"div",9),r.fc(12,"form",10),r.nc("ngSubmit",(function(){return t.onSubmit()})),r.fc(13,"div",11),r.fc(14,"div"),r.fc(15,"h2"),r.Yc(16," Booking Details "),r.ec(),r.ec(),r.fc(17,"div",12),r.fc(18,"div",13),r.fc(19,"button",14),r.Yc(20,"Discard"),r.ec(),r.ec(),r.fc(21,"div"),r.fc(22,"button",15),r.Yc(23,"Book"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(24,"div",16),r.fc(25,"div",17),r.fc(26,"div",18),r.ac(27,"img",19),r.ec(),r.fc(28,"div",20),r.fc(29,"div",21),r.fc(30,"h2",22),r.Yc(31),r.ec(),r.fc(32,"div",11),r.fc(33,"label"),r.Yc(34,"Capicity"),r.ec(),r.fc(35,"p",23),r.Yc(36),r.ec(),r.ec(),r.fc(37,"div",11),r.fc(38,"label"),r.Yc(39,"Time"),r.ec(),r.fc(40,"p",23),r.Yc(41),r.ec(),r.ec(),r.fc(42,"div",11),r.fc(43,"label"),r.Yc(44,"Floor"),r.ec(),r.fc(45,"p",23),r.Yc(46),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(47,"section"),r.fc(48,"mat-form-field",24),r.fc(49,"mat-label"),r.Yc(50,"Enter title"),r.ec(),r.ac(51,"input",25),r.ec(),r.fc(52,"mat-form-field",24),r.fc(53,"mat-label"),r.Yc(54,"Select purpose"),r.ec(),r.fc(55,"mat-select",26),r.fc(56,"mat-option",27),r.Yc(57,"Meeting"),r.ec(),r.fc(58,"mat-option",28),r.Yc(59,"Interview"),r.ec(),r.fc(60,"mat-option",29),r.Yc(61,"Sales"),r.ec(),r.fc(62,"mat-option",30),r.Yc(63,"Family and Friends"),r.ec(),r.fc(64,"mat-option",31),r.Yc(65,"Courier"),r.ec(),r.fc(66,"mat-option",32),r.Yc(67,"Event"),r.ec(),r.fc(68,"mat-option",33),r.Yc(69,"Other"),r.ec(),r.ec(),r.ec(),r.fc(70,"mat-form-field",24),r.fc(71,"mat-label"),r.Yc(72,"Invite Attendee"),r.ec(),r.fc(73,"input",34),r.nc("keyup",(function(e){return t.searchData(e.target.value,"user","guest")})),r.ec(),r.fc(74,"mat-icon",35),r.qc(),r.fc(75,"svg",36),r.ac(76,"path",37),r.ac(77,"path",38),r.ec(),r.ec(),r.pc(),r.fc(78,"mat-autocomplete",39,40),r.Wc(80,R,9,4,"mat-option",41),r.sc(81,"async"),r.ec(),r.ec(),r.fc(82,"mat-chip-list",42),r.Wc(83,$,5,2,"mat-chip",43),r.ec(),r.fc(84,"mat-form-field",24),r.fc(85,"mat-label"),r.Yc(86,"booking duration"),r.ec(),r.fc(87,"mat-select",44),r.nc("selectionChange",(function(e){return t.loadAvailableSlots(e.value)})),r.fc(88,"mat-option",45),r.Yc(89,"15 minutes"),r.ec(),r.fc(90,"mat-option",46),r.Yc(91,"30 minutes"),r.ec(),r.fc(92,"mat-option",47),r.Yc(93,"1 hour"),r.ec(),r.fc(94,"mat-option",48),r.Yc(95,"1 hour, 30 minutes"),r.ec(),r.fc(96,"mat-option",49),r.Yc(97,"2 hour"),r.ec(),r.ec(),r.ec(),r.Wc(98,N,5,1,"mat-form-field",50),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.ec()),2&e){const e=r.Lc(79);r.Lb(12),r.zc("formGroup",t.registerForm),r.Lb(7),r.zc("routerLink","/booking/room/5eba33813ccca9155084f4d4"),r.Lb(8),r.zc("lazyLoad",t.imgSrc("venue",t.inventory.name)),r.Lb(4),r.bd("",null==t.inventory.spaceType?null:t.inventory.spaceType.name.replace("s","")," ",t.inventory.name,""),r.Lb(5),r.Zc(t.inventory.capacity),r.Lb(5),r.Zc(t.duration),r.Lb(5),r.Zc(null==t.inventory.floor?null:t.inventory.floor.name),r.Lb(27),r.zc("matAutocomplete",e),r.Lb(5),r.zc("displayWith",t.displayFn),r.Lb(2),r.zc("ngForOf",r.tc(81,13,t.filteredLessorOptions)),r.Lb(3),r.zc("ngForOf",t.members),r.Lb(15),r.zc("ngIf",!t.slotLoading&&t.availableSlots.length>0)}},directives:[P.w,P.p,P.g,C.b,c.f,y.b,h.c,h.f,Z.b,P.b,P.o,P.f,j.b,v.a,b.n,A.c,U.a,h.g,A.a,n.m,W.b,n.n,H.a,q.a,W.a,W.c],pipes:[n.b,n.e],styles:[".box-container[_ngcontent-%COMP%]{height:100vh;width:100%;max-width:480px;background:#efefef}.header[_ngcontent-%COMP%]{background:#feeae6;height:70px;display:flex;padding-left:15px;justify-content:space-between;align-items:center;position:sticky;z-index:10000;top:0}.firstBox[_ngcontent-%COMP%]{background:#c3e6f9;height:342px;padding:26px;max-width:480px;width:100%;margin:auto}.boxContent[_ngcontent-%COMP%]{background:#fff;box-shadow:-5px 5px 55px hsla(0,0%,78.8%,.25);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding:20px;position:relative;top:40px}.boxContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600!important;font-size:16px;line-height:30px;letter-spacing:.02em;color:#121212}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500}label[_ngcontent-%COMP%]{font-size:14px;line-height:26px;width:110px}.discard[_ngcontent-%COMP%]{background:rgba(220,53,69,.15);color:#dc3545}.view-btn[_ngcontent-%COMP%]{border-radius:4px!important}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-weight:400!important}.calendar-card[_ngcontent-%COMP%]{min-height:100vh;padding:0!important}  .mat-input-element{font-size:14px;font-weight:500}.mat-option[_ngcontent-%COMP%]{height:52px!important}.mat-chip[_ngcontent-%COMP%]{background:#2c374a!important;border-radius:2px;color:#fff;font-weight:500;font-size:12px;font-family:Poppins;text-align:center;padding:1px 10px;border-radius:3px;margin-bottom:24px!important}  .dynField .mat-form-field-infix{margin-top:6px!important;height:30px!important}  .mat-chip-remove .mat-chip-trailing-icon{background:#2c374a!important}mat-icon[_ngcontent-%COMP%]{color:#fff!important;position:relative;bottom:3px}"]}),e})();var Q=i("QibW");let X=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Tb({type:e,selectors:[["app-cancel-booking"]],decls:24,vars:1,consts:[[1,"p-3"],[1,"d-flex","justify-content-center","text-center","flex-column"],["src","/assets/image/ScanQr/cancelBooking.svg","alt",""],["aria-label","Select an option"],["value","Another meeting came"],["value","Facility not availble in the room"],["value","Wrongly booked"],[1,"d-flex","text-center","flex-column","mt-3"],["mat-button","",1,"border-danger","btn","w-100","text-danger","border","rounded","my-2",3,"mat-dialog-close"],["href","javascript:;",1,"text-dark","w-100","my-2"]],template:function(e,t){1&e&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div"),r.ac(3,"img",2),r.ec(),r.fc(4,"div"),r.fc(5,"h2"),r.Yc(6,"Want to cancel your booking?"),r.ec(),r.ec(),r.fc(7,"div"),r.fc(8,"p"),r.Yc(9,"Seletc reason of cancelling."),r.ec(),r.ec(),r.ec(),r.fc(10,"mat-radio-group",3),r.fc(11,"mat-radio-button",4),r.Yc(12,"Another meeting came"),r.ec(),r.fc(13,"mat-radio-button",5),r.Yc(14,"Facility not availble in the room"),r.ec(),r.fc(15,"mat-radio-button",6),r.Yc(16,"Wrongly booked"),r.ec(),r.ec(),r.fc(17,"div",7),r.fc(18,"div"),r.fc(19,"button",8),r.Yc(20,"Cancel"),r.ec(),r.ec(),r.fc(21,"div"),r.fc(22,"a",9),r.Yc(23,"Back"),r.ec(),r.ec(),r.ec(),r.ec()),2&e&&(r.Lb(19),r.zc("mat-dialog-close",!0))},directives:[Q.b,Q.a,C.b,B.d],styles:["h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600;font-size:22px;line-height:30px;text-align:center;letter-spacing:.02em;color:#121212}p[_ngcontent-%COMP%]{font-weight:300}mat-radio-button[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-size:14px;line-height:24px;color:#000}mat-radio-button[_ngcontent-%COMP%]{font-weight:500;height:40px;display:flex;align-items:center;height:30px}.text-danger[_ngcontent-%COMP%]{color:#dc3545}.text-danger[_ngcontent-%COMP%], .text-dark[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:500;font-size:14px;letter-spacing:.011em}.text-dark[_ngcontent-%COMP%]{line-height:135%;text-align:center;color:#121212}"]}),e})();const K=["pdfContent"];function J(e,t){if(1&e&&(r.fc(0,"div"),r.fc(1,"label"),r.Yc(2,"Space name"),r.ec(),r.fc(3,"h3"),r.Yc(4),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(4),r.Zc(null==e.item||null==e.item.venue?null:e.item.venue.name)}}function ee(e,t){if(1&e&&(r.fc(0,"div"),r.fc(1,"label"),r.Yc(2,"Booking time"),r.ec(),r.fc(3,"h3"),r.Yc(4),r.sc(5,"date"),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(4),r.Zc(r.uc(5,1,null==e.item?null:e.item.startDate,"shortTime"))}}function te(e,t){if(1&e&&(r.fc(0,"div"),r.fc(1,"label"),r.Yc(2,"Location"),r.ec(),r.fc(3,"h3"),r.Yc(4),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(4),r.ad(" ",null==e.item||null==e.item.venue||null==e.item.venue.location?null:e.item.venue.location.formattedAddress," ")}}function ie(e,t){if(1&e&&(r.fc(0,"div"),r.fc(1,"label"),r.Yc(2,"Floor"),r.ec(),r.fc(3,"h3"),r.Yc(4),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(4),r.ad(" ",null==e.item||null==e.item.inventory?null:e.item.inventory.floor," ")}}function ne(e,t){if(1&e&&(r.fc(0,"div"),r.fc(1,"label"),r.Yc(2,"Floor"),r.ec(),r.fc(3,"h3"),r.Yc(4),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(4),r.ad(" ",null==e.item||null==e.item.building?null:e.item.building.floor," ")}}function ce(e,t){if(1&e&&(r.fc(0,"div"),r.fc(1,"label"),r.Yc(2,"Booking date"),r.ec(),r.fc(3,"h3"),r.Yc(4),r.sc(5,"date"),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(4),r.ad(" ",r.uc(5,1,null==e.item?null:e.item.startDate,"MMM d, y")," ")}}function oe(e,t){if(1&e&&(r.fc(0,"div",30),r.fc(1,"div",7),r.ac(2,"app-profile-image",31),r.ec(),r.fc(3,"div",32),r.fc(4,"p",20),r.Yc(5),r.ec(),r.ec(),r.ec()),2&e){const e=t.$implicit;r.Lb(2),r.zc("user",e),r.Lb(3),r.Zc(null==e?null:e.name)}}let ae=(()=>{class e{constructor(e,t,i,n,c,o,a){this.activatedRoute=e,this.utilService=t,this.dialog=i,this.authenticationService=n,this.imageService=c,this.bookingService=o,this.alertService=a,this.item={},this.currentUser={},this.homeUrl="/community",this.currentUser=this.authenticationService.currentUserValue,this.homeUrl=this.utilService.getHomeUrl(this.currentUser)}ngOnInit(){this.activatedRoute.params.subscribe(e=>{this.loadInvoices(e.id)})}loadInvoices(e){this.bookingService.getById(e).pipe(Object(a.a)(2)).subscribe(e=>{this.item=e,this.item.startDate=this.utilService.formatLocalDate(this.item.startDate),this.item.endDate=this.utilService.formatLocalDate(this.item.endDate)})}imgSrc(e,t){return this.imageService.getDefaultImageUrl(e,t)}getFileUrl(e,t){return this.imageService.getFileUrl(e,t)}printDocument(){var e=document.getElementById("pdfContent").innerHTML;document.body.innerHTML=e,window.print(),window.location.reload()}getFormattedAmount(e){return this.utilService.getFormattedAmount(e)}copyLink(e){this.utilService.copyData(g.a.HOST+"/booking/"+e._id),this.alertService.success("Link Copied Successfully!")}transformMinute(e){return this.utilService.transformMinute(e)}cancelDialog(){this.dialog.open(X,{width:"371px",height:"550px"}).afterClosed().subscribe(e=>{console.log("Dialog result: "+e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(c.a),r.Zb(l.a),r.Zb(B.b),r.Zb(F.a),r.Zb(f.a),r.Zb(z),r.Zb(m.a))},e.\u0275cmp=r.Tb({type:e,selectors:[["app-view-booking"]],viewQuery:function(e,t){var i;1&e&&r.dd(K,!0,r.o),2&e&&r.Kc(i=r.oc())&&(t.pdfContent=i.first)},decls:62,vars:14,consts:[[1,"container-fluid","p-0"],[1,"box-container","mx-auto"],[1,"header"],["onclick","history.back()",1,"d-flex","align-items-center","text-dark"],["width","38","height","39","viewBox","0 0 38 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","19","cy","19.7747","r","18.5","stroke","#6C757D"],["d","M8.76354 19.3351L13.9963 14.3406C14.3868 13.9661 15.0228 13.9661 15.4133 14.3454C15.8039 14.72 15.8039 15.3299 15.4083 15.7045L11.8932 19.0566H29.4419C29.9927 19.0566 30.4434 19.4888 30.4434 20.0171C30.4434 20.5453 29.9927 20.9775 29.4419 20.9775H11.8932L15.4083 24.3296C15.7989 24.7042 15.8039 25.3141 15.4133 25.6887C15.0228 26.0633 14.3868 26.0681 13.9963 25.6935L8.76354 20.699C8.36796 20.3196 8.37297 19.7097 8.76354 19.3351Z","fill","#6C757D"],[1,"ml-2"],[1,"firstBox"],[1,"boxContent"],[1,"position-relative","text-center",2,"top","38px","z-index","1"],["width","76","height","75","viewBox","0 0 76 75","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","37.9023","cy","37.5","r","37.5","fill","#DAE6FC"],["fill-rule","evenodd","clip-rule","evenodd","d","M24.9362 39.1443L32.8245 46.3894C33.3764 46.8973 34.1048 47.1699 34.8546 47.149C35.6044 47.1282 36.3165 46.8156 36.8393 46.2778L50.9151 32.7995C51.4252 32.2626 51.7087 31.5499 51.7067 30.8094C51.7047 30.0689 51.4173 29.3577 50.9043 28.8237C50.3913 28.2897 49.6922 27.974 48.9524 27.9422C48.2126 27.9104 47.489 28.1651 46.9322 28.6532L34.7343 40.3273L28.8336 34.9104C28.2718 34.3936 27.5278 34.1211 26.7652 34.1528C26.0026 34.1846 25.2838 34.518 24.7669 35.0797C24.2501 35.6414 23.9776 36.3854 24.0094 37.1481C24.0411 37.9107 24.3745 38.6295 24.9362 39.1463V39.1443ZM37.9028 9.79581C32.4235 9.79581 27.0673 11.4206 22.5115 14.4647C17.9557 17.5088 14.4049 21.8355 12.308 26.8977C10.2112 31.9598 9.6626 37.5301 10.7315 42.9041C11.8005 48.278 14.439 53.2143 18.3134 57.0887C22.1878 60.9631 27.1241 63.6016 32.4981 64.6706C37.8721 65.7395 43.4423 65.1909 48.5045 63.0941C53.5666 60.9973 57.8933 57.4464 60.9374 52.8906C63.9815 48.3348 65.6063 42.9786 65.6063 37.4994C65.6063 30.1519 62.6876 23.1054 57.4922 17.91C52.2967 12.7146 45.2502 9.79581 37.9028 9.79581Z","fill","#176CFF"],[1,"text-center","mt-5"],[2,"border-top","1px dashed #C6C6C6"],[1,"infoCard"],[1,"d-flex","flex-row"],["defaultImage","/assets/image/ScanQr/room.svg","width","48","height","48","alt","",1,"meeting-img",3,"lazyLoad"],[1,"d-flex","flex-column","ml-3"],[1,"mb-0"],[1,"detialsCard"],[1,"d-flex","flex-column"],[4,"ngIf"],[1,"invitedCard"],[1,"d-flex","flex-wrap"],["class","d-flex flex-column align-items-center  justify-content-center mr-3",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","position-relative",2,"top","150px"],[1,"editBtn","mb-3",3,"routerLink"],[1,"bg-transparent","text-danger","mb-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mr-3"],[3,"user"],[1,"d-flex","flex-column","ml-2"]],template:function(e,t){1&e&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div",2),r.fc(3,"div"),r.fc(4,"a",3),r.qc(),r.fc(5,"svg",4),r.ac(6,"circle",5),r.ac(7,"path",6),r.ec(),r.pc(),r.fc(8,"span",7),r.Yc(9," Back"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(10,"div",8),r.fc(11,"div",9),r.fc(12,"h2"),r.Yc(13," Booking Details "),r.ec(),r.fc(14,"div",10),r.qc(),r.fc(15,"svg",11),r.ac(16,"circle",12),r.ac(17,"path",13),r.ec(),r.ec(),r.pc(),r.fc(18,"section"),r.fc(19,"h1",14),r.Yc(20,"Booking Confirmed!"),r.ec(),r.ac(21,"hr",15),r.fc(22,"div",16),r.fc(23,"h2"),r.Yc(24,"Booking with \xa0:"),r.ec(),r.fc(25,"div",17),r.fc(26,"div"),r.ac(27,"img",18),r.ec(),r.fc(28,"div",19),r.fc(29,"div"),r.fc(30,"h3",20),r.Yc(31),r.ec(),r.ec(),r.fc(32,"div"),r.fc(33,"p"),r.Yc(34),r.ec(),r.ec(),r.fc(35,"div"),r.fc(36,"p"),r.Yc(37),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.ac(38,"hr",15),r.fc(39,"div",21),r.fc(40,"h2"),r.Yc(41,"Booking Detials \xa0:"),r.ec(),r.fc(42,"div",17),r.fc(43,"div",22),r.Wc(44,J,5,1,"div",23),r.Wc(45,ee,6,4,"div",23),r.Wc(46,te,5,1,"div",23),r.ec(),r.fc(47,"div"),r.Wc(48,ie,5,1,"div",23),r.Wc(49,ne,5,1,"div",23),r.Wc(50,ce,6,4,"div",23),r.ec(),r.ec(),r.ec(),r.ac(51,"hr",15),r.fc(52,"h2"),r.Yc(53),r.ec(),r.fc(54,"div",24),r.fc(55,"div",25),r.Wc(56,oe,6,2,"div",26),r.ec(),r.ec(),r.fc(57,"div",27),r.fc(58,"a",28),r.Yc(59,"Edit Booking"),r.ec(),r.fc(60,"a",29),r.nc("click",(function(){return t.cancelDialog()})),r.Yc(61,"Cancel This Booking"),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.ec()),2&e&&(r.Lb(27),r.zc("lazyLoad",t.imgSrc("venue",null==t.item||null==t.item.inventory||null==t.item.inventory.image?null:t.item.inventory.image.name)),r.Lb(4),r.bd("",null==t.item||null==t.item.spaceType?null:t.item.spaceType.name," ",null==t.item||null==t.item.inventory?null:t.item.inventory.name,""),r.Lb(3),r.ad("",null==t.item?null:t.item.seat," peoples"),r.Lb(3),r.Zc(null==t.item||null==t.item.user?null:t.item.user.name),r.Lb(7),r.zc("ngIf",null==t.item||null==t.item.venue?null:t.item.venue.name),r.Lb(1),r.zc("ngIf",null==t.item?null:t.item.startDate),r.Lb(1),r.zc("ngIf",null==t.item||null==t.item.venue||null==t.item.venue.location?null:t.item.venue.location.formattedAddress),r.Lb(2),r.zc("ngIf",null==t.item?null:t.item.purpose),r.Lb(1),r.zc("ngIf",null==t.item?null:t.item.floor),r.Lb(1),r.zc("ngIf",null==t.item?null:t.item.startDate),r.Lb(3),r.ad("Invited members \xa0:",null==t.item||null==t.item.members?null:t.item.members.length,""),r.Lb(3),r.zc("ngForOf",null==t.item?null:t.item.members),r.Lb(2),r.zc("routerLink","/booking/room/5eba33813ccca9155084f4d4"))},directives:[y.b,n.n,n.m,c.h,H.a],pipes:[n.e],styles:[".box-container[_ngcontent-%COMP%]{height:120vh;width:100%;max-width:480px;background:#efefef}.header[_ngcontent-%COMP%]{background:#feeae6;height:70px;display:flex;padding-left:15px;justify-content:space-between;align-items:center;position:sticky;z-index:10000;top:0}.firstBox[_ngcontent-%COMP%]{background:#c3e6f9;height:342px;padding:26px;max-width:480px;width:100%;margin:auto}.boxContent[_ngcontent-%COMP%]{background:#fff;box-shadow:-5px 5px 55px hsla(0,0%,78.8%,.25);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding:20px;position:relative;top:40px}.boxContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600!important;font-size:16px;line-height:30px;letter-spacing:.02em;color:#121212}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-family:Poppins;font-weight:500}label[_ngcontent-%COMP%]{font-size:14px;font-family:Poppins;font-weight:400;line-height:26px;width:122px}.boxContent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;font-size:24px;line-height:32px;text-align:center;letter-spacing:.02em;color:#000}.boxContent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .editBtn[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal}.editBtn[_ngcontent-%COMP%]{border:1px solid #176cff!important;border-radius:12px;background:#fff;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:17px 90px;color:#176cff!important}.editBtn[_ngcontent-%COMP%], .text-danger[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:135%;letter-spacing:.011em}.text-danger[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;text-align:center;color:#dc3545}"]}),e})();function re(e,t){if(1&e&&(r.fc(0,"div",10),r.fc(1,"div"),r.fc(2,"label"),r.Yc(3,"Description \xa0"),r.fc(4,"b"),r.Yc(5,":"),r.ec(),r.ec(),r.ec(),r.fc(6,"div",16),r.fc(7,"h3",17),r.Yc(8),r.ec(),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(8),r.ad("",null==e.inventory?null:e.inventory.description," ")}}function le(e,t){if(1&e&&(r.fc(0,"div",10),r.fc(1,"div"),r.fc(2,"label"),r.Yc(3,"Direction \xa0"),r.fc(4,"b"),r.Yc(5,":"),r.ec(),r.ec(),r.ec(),r.fc(6,"div",16),r.fc(7,"h3",17),r.Yc(8),r.ec(),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(8),r.Zc(null==e.inventory?null:e.inventory.description)}}function se(e,t){if(1&e&&r.ac(0,"img",28),2&e){const e=r.rc(2).$implicit,t=r.rc(2);r.zc("lazyLoad",t.imgSrc("venue",null==e||null==e.facility?null:e.facility.icon))}}function de(e,t){if(1&e&&(r.fc(0,"p",10),r.Wc(1,se,1,1,"img",27),r.Yc(2),r.ec()),2&e){const e=r.rc().$implicit;r.Lb(1),r.zc("ngIf",null==e||null==e.facility?null:e.facility.icon),r.Lb(1),r.ad(" \xa0 ",null==e||null==e.facility?null:e.facility.name," ")}}function fe(e,t){if(1&e&&(r.fc(0,"div",25),r.Wc(1,de,3,2,"p",26),r.ec()),2&e){const e=t.$implicit;r.Lb(1),r.zc("ngIf",null==e||null==e.facility?null:e.facility.icon)}}function ge(e,t){if(1&e&&(r.fc(0,"div"),r.fc(1,"h4",21),r.Yc(2,"Facilities"),r.ec(),r.fc(3,"div",22),r.fc(4,"div",14),r.Wc(5,fe,2,1,"div",24),r.ec(),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(5),r.zc("ngForOf",e.amenities.data)}}function pe(e,t){if(1&e&&r.ac(0,"img",32),2&e){const e=r.rc(2);r.zc("lazyLoad",e.imgSrc("venue",e.inventory.taggedImages[0].name))}}function ue(e,t){if(1&e&&r.ac(0,"img",35),2&e){const e=r.rc().$implicit,t=r.rc(2);r.zc("lazyLoad",t.imgSrc("venue",e.name))}}function me(e,t){if(1&e&&(r.fc(0,"div",33),r.fc(1,"div",10),r.Wc(2,ue,1,1,"img",34),r.ec(),r.ec()),2&e){const e=t.$implicit,i=t.index;r.Lb(2),r.zc("ngIf",e.name&&i<4)}}function he(e,t){if(1&e&&(r.fc(0,"div",14),r.fc(1,"div",29),r.Wc(2,pe,1,1,"img",30),r.ec(),r.fc(3,"div",29),r.fc(4,"div",14),r.Wc(5,me,3,1,"div",31),r.sc(6,"slice"),r.ec(),r.ec(),r.ec()),2&e){const e=r.rc();r.Lb(2),r.zc("ngIf",e.inventory.taggedImages[0].name),r.Lb(3),r.zc("ngForOf",r.vc(6,2,e.inventory.taggedImages,1,5))}}const ve=[{path:"room/:id",component:M,canActivate:[o.a]},{path:"room/view/:id",component:(()=>{class e{constructor(e,t,i,n,c){this.dialog=e,this.utilService=t,this.imageService=i,this.inventoryService=n,this.activatedRoute=c,this.amenities=[],this.brand={},this.venue={},this.inventory={},this.facilitySkeleton=!1,this.loading=!1,this.siteFiles=[],this.progress=0,this.submitted=!1,this.uploadedImage=[]}ngOnInit(){this.brand=this.utilService.getBrand(),this.venue=this.utilService.getVenue();let e=new Date;this.dayStartHour=e.getHours(),e.setHours(23,59,59,59),this.dayEndHour=this.dayStartHour+8<e.getHours()?this.dayStartHour+8:e.getHours(),this.activatedRoute.params.subscribe(e=>{const t=e.id;t&&this.loadVacentInventory(t)})}loadVacentInventory(e){this.loading=!0,this.inventoryService.getById(e).pipe(Object(a.a)(2)).subscribe(e=>{this.inventory=e,this.loading=!1})}imgSrc(e,t){return this.imageService.getImageUrl(e,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Zb(B.b),r.Zb(l.a),r.Zb(f.a),r.Zb(d.a),r.Zb(c.a))},e.\u0275cmp=r.Tb({type:e,selectors:[["app-view-room"]],decls:59,vars:10,consts:[[1,"container-fluid","p-0"],[1,"box-container","mx-auto"],[1,"header"],["onclick","history.back()",1,"d-flex","align-items-center","text-dark"],["width","38","height","39","viewBox","0 0 38 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","19","cy","19.7747","r","18.5","stroke","#6C757D"],["d","M8.76354 19.3351L13.9963 14.3406C14.3868 13.9661 15.0228 13.9661 15.4133 14.3454C15.8039 14.72 15.8039 15.3299 15.4083 15.7045L11.8932 19.0566H29.4419C29.9927 19.0566 30.4434 19.4888 30.4434 20.0171C30.4434 20.5453 29.9927 20.9775 29.4419 20.9775H11.8932L15.4083 24.3296C15.7989 24.7042 15.8039 25.3141 15.4133 25.6887C15.0228 26.0633 14.3868 26.0681 13.9963 25.6935L8.76354 20.699C8.36796 20.3196 8.37297 19.7097 8.76354 19.3351Z","fill","#6C757D"],[1,"ml-2"],[1,"firstBox"],[1,"boxContent"],[1,"d-flex"],[1,"ml-auto","float-right","d-flex"],["mat-button","","color","primary",3,"routerLink"],[1,"border-box","mt-4"],[1,"row"],[1,"col-11"],[1,"ml-3"],[1,"mb-2"],["class","d-flex ",4,"ngIf"],[4,"ngIf"],[1,"images","mb-3"],[1,"mt-4"],[1,"border-box"],["class","row",4,"ngIf"],["class","d-flex col-md-3",4,"ngFor","ngForOf"],[1,"d-flex","col-md-3"],["class","d-flex",4,"ngIf"],["class","image-card","defaultImage","./../../../../assets/image/default-image.jpg","width","20","height","20",3,"lazyLoad",4,"ngIf"],["defaultImage","./../../../../assets/image/default-image.jpg","width","20","height","20",1,"image-card",3,"lazyLoad"],[1,"col-md-6"],["defaultImage","./../../../../assets/image/default-image.jpg","width","150","height","150",3,"lazyLoad",4,"ngIf"],["class","col-md-6 p-0 d-flex flex-column img-glry",4,"ngFor","ngForOf"],["defaultImage","./../../../../assets/image/default-image.jpg","width","150","height","150",3,"lazyLoad"],[1,"col-md-6","p-0","d-flex","flex-column","img-glry"],["class","rounded","defaultImage","./../../../../assets/image/default-image.jpg","width","150","height","150",3,"lazyLoad",4,"ngIf"],["defaultImage","./../../../../assets/image/default-image.jpg","width","150","height","150",1,"rounded",3,"lazyLoad"]],template:function(e,t){1&e&&(r.fc(0,"div",0),r.fc(1,"div",1),r.fc(2,"div",2),r.fc(3,"div"),r.fc(4,"a",3),r.qc(),r.fc(5,"svg",4),r.ac(6,"circle",5),r.ac(7,"path",6),r.ec(),r.pc(),r.fc(8,"span",7),r.Yc(9," Back"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(10,"div",8),r.fc(11,"div",9),r.fc(12,"div",10),r.fc(13,"div"),r.fc(14,"h2"),r.Yc(15),r.ec(),r.ec(),r.fc(16,"div",11),r.fc(17,"div"),r.fc(18,"button",12),r.Yc(19,"Book"),r.ec(),r.ec(),r.ec(),r.ec(),r.fc(20,"section"),r.fc(21,"div",13),r.fc(22,"div",14),r.fc(23,"div",15),r.fc(24,"div",10),r.fc(25,"div"),r.fc(26,"label"),r.Yc(27,"Room Type \xa0"),r.fc(28,"b"),r.Yc(29,":"),r.ec(),r.ec(),r.ec(),r.fc(30,"div",16),r.fc(31,"h3",17),r.Yc(32),r.ec(),r.ec(),r.ec(),r.fc(33,"div",10),r.fc(34,"div"),r.fc(35,"label"),r.Yc(36,"Floor \xa0"),r.fc(37,"b"),r.Yc(38,":"),r.ec(),r.ec(),r.ec(),r.fc(39,"div",16),r.fc(40,"h3",17),r.Yc(41),r.ec(),r.ec(),r.ec(),r.fc(42,"div",10),r.fc(43,"div"),r.fc(44,"label"),r.Yc(45,"Seater \xa0"),r.fc(46,"b"),r.Yc(47,":"),r.ec(),r.ec(),r.ec(),r.fc(48,"div",16),r.fc(49,"h3",17),r.Yc(50),r.ec(),r.ec(),r.ec(),r.Wc(51,re,9,1,"div",18),r.Wc(52,le,9,1,"div",18),r.ec(),r.ec(),r.ec(),r.Wc(53,ge,6,1,"div",19),r.fc(54,"div",20),r.fc(55,"h4",21),r.Yc(56,"Room Images"),r.ec(),r.fc(57,"div",22),r.Wc(58,he,7,6,"div",23),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.ec(),r.ec()),2&e&&(r.Lb(15),r.ad(" ","6065428d17d9243720f34eb8"==(null==t.inventory?null:t.inventory.inventoryType)?"Room":"Space"," Details "),r.Lb(3),r.zc("routerLink","/booking/confirm/"+t.inventory._id),r.Lb(14),r.bd("",null==t.inventory.spaceType?null:t.inventory.spaceType.name.replace("s","")," ",t.inventory.name," "),r.Lb(9),r.ad("",null==t.inventory.floor?null:t.inventory.floor.name," "),r.Lb(9),r.ad("",null==t.inventory?null:t.inventory.capacity," Seater "),r.Lb(1),r.zc("ngIf",null==t.inventory?null:t.inventory.description),r.Lb(1),r.zc("ngIf",null==t.inventory?null:t.inventory.direction),r.Lb(1),r.zc("ngIf",t.amenities.data),r.Lb(5),r.zc("ngIf",(null==t.inventory||null==t.inventory.taggedImages?null:t.inventory.taggedImages.length)>0))},directives:[C.b,c.f,n.n,n.m,y.b],pipes:[n.v],styles:[".box-container[_ngcontent-%COMP%]{height:100vh;background:#efefef}.box-container[_ngcontent-%COMP%], .firstBox[_ngcontent-%COMP%]{width:100%;max-width:480px}.firstBox[_ngcontent-%COMP%]{background:#c3e6f9;height:342px;padding:26px;margin:auto}.boxContent[_ngcontent-%COMP%]{background:#fff;box-shadow:-5px 5px 55px hsla(0,0%,78.8%,.25);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding:20px;position:relative;top:40px}.header[_ngcontent-%COMP%]{background:#feeae6;height:70px;display:flex;padding-left:15px;justify-content:space-between;align-items:center;position:sticky;z-index:10000;top:0}.boxContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600;font-size:22px;line-height:30px;letter-spacing:.02em;color:#121212}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500}label[_ngcontent-%COMP%]{font-size:14px;line-height:26px;width:110px}.border-box[_ngcontent-%COMP%]{background:#fff;padding:20px;border:1px solid #d9d9d9;border-radius:12px;min-height:200px}.bg-circle-yellow[_ngcontent-%COMP%]{background:#ffcd35}.bg-circle-warn[_ngcontent-%COMP%], .bg-circle-yellow[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50px;padding:12px}.bg-circle-warn[_ngcontent-%COMP%]{background:#ff784d}.bg-circle-blue[_ngcontent-%COMP%]{background:#176cff}.bg-circle-blue[_ngcontent-%COMP%], .bg-circle-green[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50px;padding:12px}.bg-circle-green[_ngcontent-%COMP%]{background:#04c4a5}.analytics[_ngcontent-%COMP%]{place-self:self-end;text-align:right}.w-20[_ngcontent-%COMP%]{width:200px}h4[_ngcontent-%COMP%]{font-weight:400!important}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:4px}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img-glry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px}.w-122[_ngcontent-%COMP%]{width:122px!important}"]}),e})(),canActivate:[o.a]},{path:"confirm/:id",component:G,canActivate:[o.a]},{path:"details/:id",component:ae,canActivate:[o.a]}];let be=(()=>{class e{}return e.\u0275mod=r.Xb({type:e}),e.\u0275inj=r.Wb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(ve)],c.i]}),e})(),xe=(()=>{class e{}return e.\u0275mod=r.Xb({type:e}),e.\u0275inj=r.Wb({factory:function(t){return new(t||e)},imports:[[n.c,be]]}),e})()}}]);