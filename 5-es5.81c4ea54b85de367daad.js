function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{zZhv:function(e,t,n){"use strict";n.r(t),n.d(t,"BookingModule",(function(){return Me}));var i,c=n("ofXK"),o=n("tyNb"),a=n("XgRA"),r=n("un/a"),l=n("fXoL"),s=n("5y69"),f=n("4a3I"),d=n("Uqko"),u=n("fmQQ"),p=n("Oivw"),g=n("tk/3"),m=((i=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"getAll",value:function(e,t){return this.http.post(p.a.apiUrl+"/building/venue-unit"+t,e)}},{key:"register",value:function(e){return this.http.post(p.a.apiUrl+"/building/venue-unit/register",e)}},{key:"getById",value:function(e){return this.http.get(p.a.apiUrl+"/building/venue-unit/"+e)}},{key:"delete",value:function(e){return this.http.delete("".concat(p.a.apiUrl,"/building/venue-unit/").concat(e))}}]),e}()).\u0275fac=function(e){return new(e||i)(l.jc(g.b))},i.\u0275prov=l.Vb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),h=n("f5O9"),v=n("kmnG"),b=n("d3UM"),y=n("FKr1"),x=n("Wp6s"),C=n("wf0l"),k=n("bTqV");function w(e,t){if(1&e&&(l.fc(0,"mat-option",18),l.Yc(1),l.ec()),2&e){var n=t.$implicit;l.zc("value",n),l.Lb(1),l.Zc(n.name)}}function O(e,t){if(1&e&&(l.fc(0,"mat-option",18),l.Yc(1),l.ec()),2&e){var n=t.$implicit;l.zc("value",n._id),l.Lb(1),l.Zc(n.name)}}function _(e,t){if(1&e&&(l.fc(0,"mat-card",21),l.fc(1,"div",22),l.fc(2,"div"),l.ac(3,"img",23),l.ec(),l.fc(4,"div",24),l.fc(5,"div",22),l.fc(6,"div"),l.fc(7,"h2",25),l.Yc(8),l.ec(),l.ec(),l.fc(9,"div",26),l.fc(10,"a",27),l.qc(),l.fc(11,"svg",28),l.ac(12,"path",29),l.ec(),l.ec(),l.ec(),l.ec(),l.pc(),l.fc(13,"div",22),l.fc(14,"div",30),l.Yc(15," Available "),l.ec(),l.fc(16,"div",31),l.fc(17,"p",22),l.qc(),l.fc(18,"svg",32),l.ac(19,"path",33),l.ac(20,"path",34),l.ec(),l.Yc(21),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.pc(),l.fc(22,"div",35),l.fc(23,"button",36),l.Yc(24,"Book"),l.ec(),l.ec(),l.ec()),2&e){var n=t.$implicit,i=l.rc(2);l.Lb(3),l.zc("lazyLoad",i.imgSrc("venue",null==n.image?null:n.image.name)),l.Lb(5),l.bd("",null==n||null==n.spaceType?null:n.spaceType.name," ",n.name,""),l.Lb(2),l.zc("routerLink","/booking/room/view/"+n._id),l.Lb(11),l.ad(" ",n.capacity," "),l.Lb(2),l.zc("routerLink","/booking/confirm/"+n._id)}}function L(e,t){if(1&e&&(l.fc(0,"div",37),l.ac(1,"img",38),l.fc(2,"h3"),l.Yc(3),l.ec(),l.ec()),2&e){var n=l.rc(2);l.Lb(3),l.ad("",n.spaceType.name," Rooms Not Available !")}}function P(e,t){if(1&e&&(l.fc(0,"div"),l.fc(1,"div"),l.Wc(2,_,25,6,"mat-card",19),l.ec(),l.Wc(3,L,4,1,"div",20),l.ec()),2&e){var n=l.rc();l.Lb(2),l.zc("ngForOf",n.vacentInventory),l.Lb(1),l.zc("ngIf",0==n.vacentInventory.length)}}var M,S,I=((M=function(){function e(t,n,i,c,o,a,r){_classCallCheck(this,e),this.activatedRoute=t,this.utilService=n,this.spaceTypeService=i,this.inventoryService=c,this.imageService=o,this.venueUnitService=a,this.alertService=r,this.displayedColumns=["inventoryName","category","seater","floor","duration","startingTime","status","action"],this.floorLoading=!1,this.inventory=[],this.floors=[],this.book=0,this.step=1,this.venue={},this.spaceType={},this.vacentInventory=[],this.vacentCount=0,this.loading=!1,this.departments={},this.brand={},this.query={},this.building={},this.selectedFloor="All",this.selectedSpaceType="All",this.spaceTypes=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t,n=this;this.brand=this.utilService.getBrand(),this.venue=this.utilService.getVenue(),this.building=this.utilService.getBuilding(),this.loadAllSpaceType("6065428d17d9243720f34eb8"),this.activatedRoute.params.subscribe((function(e){n.objectId=e.id,n.objectId&&n.loadVacentInventory({})}));var i={building:null===(e=this.building)||void 0===e?void 0:e._id,venue:null===(t=this.venue)||void 0===t?void 0:t._id};this.loadAllFloors(i,"")}},{key:"loadAllFloors",value:function(e,t){var n=this;this.floorLoading=!0,this.venueUnitService.getAll(e,t).pipe(Object(r.a)(2)).subscribe((function(e){0==e.data.length&&n.alertService.error("Floor Not Availale!"),n.floors=[],e.data.forEach((function(e){n.utilService.getIndex(n.floors,"_id",e.floor._id)<0&&n.floors.push(e.floor)})),n.floorLoading=!1}))}},{key:"selectFloor",value:function(e){this.query.floor=e._id,this.spaceType&&(this.query.inventoryType=this.spaceType._id),this.objectId&&(this.query.objectId=this.objectId),this.loadVacentInventory(this.query)}},{key:"loadAllSpaceType",value:function(e){var t=this;this.spaceTypes=[],this.spaceTypeService.getAll({objectType:e,brand:this.brand._id}).pipe(Object(r.a)(2)).subscribe((function(e){t.spaceTypes=e.data}))}},{key:"loadSpaceType",value:function(e){var t=this;this.spaceTypeService.getById(e).pipe(Object(r.a)(2)).subscribe((function(e){var n,i;t.spaceType=e,t.spaceName=null===(i=null===(n=t.spaceType)||void 0===n?void 0:n.name)||void 0===i?void 0:i.replace("s",""),t.loadVacentInventory({objectId:t.spaceType._id})}))}},{key:"loadVacentInventory",value:function(e){var t=this;this.loading=!0,e.brand=this.brand._id,e.venue=this.venue._id,this.inventoryService.getAll(e,"").pipe(Object(r.a)(2)).subscribe((function(e){t.vacentCount=e.count,t.vacentInventory=e.data,t.loading=!1}))}},{key:"imgSrc",value:function(e,t){return this.imageService.getImageUrl(e,t)}}]),e}()).\u0275fac=function(e){return new(e||M)(l.Zb(o.a),l.Zb(s.a),l.Zb(f.a),l.Zb(d.a),l.Zb(u.a),l.Zb(m),l.Zb(h.a))},M.\u0275cmp=l.Tb({type:M,selectors:[["app-meeting-room"]],decls:31,vars:5,consts:[[1,"container-fluid","p-0"],[1,"box-container","mx-auto"],[1,"header"],["onclick","history.back()",1,"d-flex","align-items-center","text-dark"],["width","38","height","39","viewBox","0 0 38 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","19","cy","19.7747","r","18.5","stroke","#6C757D"],["d","M8.76354 19.3351L13.9963 14.3406C14.3868 13.9661 15.0228 13.9661 15.4133 14.3454C15.8039 14.72 15.8039 15.3299 15.4083 15.7045L11.8932 19.0566H29.4419C29.9927 19.0566 30.4434 19.4888 30.4434 20.0171C30.4434 20.5453 29.9927 20.9775 29.4419 20.9775H11.8932L15.4083 24.3296C15.7989 24.7042 15.8039 25.3141 15.4133 25.6887C15.0228 26.0633 14.3868 26.0681 13.9963 25.6935L8.76354 20.699C8.36796 20.3196 8.37297 19.7097 8.76354 19.3351Z","fill","#6C757D"],[1,"ml-2"],[1,"firstBox"],[1,"boxContent"],[1,"row"],[1,"col-6","px-2"],["appearance","outline",1,"w-100"],[3,"value","selectionChange"],["value","All"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"meeting-room"],[3,"value"],["class","room-card mb-3",4,"ngFor","ngForOf"],["class","text-center d-flex flex-column align-self-center mx-auto",4,"ngIf"],[1,"room-card","mb-3"],[1,"d-flex"],["defaultImage","/assets/image/ScanQr/defaltRoom.svg","width","76","height","76","alt","",1,"meeting-img",3,"lazyLoad"],[1,"d-flex","flex-column","pl-3"],[1,"mb-3"],[1,"ml-auto","position-absolute",2,"right","16px"],[1,"link",3,"routerLink"],["width","22","height","12","viewBox","0 0 22 12","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M21.3307 5.09294L16.2756 0.270675C15.8983 -0.0909942 15.2839 -0.0909942 14.9066 0.275312C14.5293 0.636982 14.5293 1.22585 14.9114 1.58752L18.3073 4.824H1.3542C0.822087 4.824 0.386719 5.24131 0.386719 5.75136C0.386719 6.26141 0.822087 6.67872 1.3542 6.67872H18.3073L14.9114 9.9152C14.5341 10.2769 14.5293 10.8657 14.9066 11.2274C15.2839 11.5891 15.8983 11.5937 16.2756 11.232L21.3307 6.40979C21.7128 6.04348 21.708 5.45461 21.3307 5.09294Z","fill","#176CFF"],[1,"bg-available"],[1,"ml-5"],["width","19","height","19","viewBox","0 0 19 19","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.9434 9.62134C10.9434 10.0678 11.238 10.3643 11.6817 10.3643C13.7548 10.3643 15.3806 8.7319 15.3806 6.6461C15.3806 4.5603 13.7548 2.92444 11.6817 2.92444C11.238 2.92444 10.9434 3.2244 10.9434 3.67086C10.9434 4.11732 11.238 4.4138 11.6817 4.4138C12.9401 4.4138 13.9004 5.37997 13.9004 6.6461C13.9004 7.91223 12.9401 8.8784 11.6817 8.8784C11.238 8.8784 10.9434 9.17488 10.9434 9.62134ZM15.3806 14.8324C15.3806 15.2788 15.6753 15.5753 16.119 15.5753C16.5627 15.5753 16.8609 15.2753 16.9337 14.8359C16.9337 13.2733 15.5297 11.8571 13.3839 11.3374C13.013 11.1875 12.5692 11.4839 12.4964 11.8571C12.3474 12.2304 12.642 12.6768 13.013 12.7501C14.4204 13.0465 15.3806 13.9395 15.3806 14.8324Z","fill","#6C757D"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.24402 10.3642C5.17446 10.3642 3.54516 8.72829 3.54516 6.64249C3.54516 4.55669 5.17446 2.92432 7.24402 2.92432C9.31357 2.92432 10.9429 4.56017 10.9429 6.64598C10.9429 8.73178 9.31704 10.3642 7.24402 10.3642ZM10.9428 14.8324C10.9428 15.2789 11.2375 15.5754 11.6812 15.5754C12.125 15.5754 12.4231 15.2754 12.4196 14.8289C12.4196 12.7431 10.1282 11.1073 7.24399 11.1073C4.35978 11.1073 2.06836 12.7466 2.06836 14.8289C2.06836 15.2754 2.36302 15.5754 2.80674 15.5754C3.25047 15.5754 3.54513 15.2789 3.54513 14.8324C3.54513 13.643 5.24723 12.6001 7.24399 12.6001C9.24075 12.6001 10.9428 13.643 10.9428 14.8324Z","fill","#6C757D"],[1,"pt-3"],["mat-stroked-button","",1,"py-1","bookBtn","w-100",3,"routerLink"],[1,"text-center","d-flex","flex-column","align-self-center","mx-auto"],["src","/assets//image/empty-space.svg","alt",""]],template:function(e,t){1&e&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"div",2),l.fc(3,"div"),l.fc(4,"a",3),l.qc(),l.fc(5,"svg",4),l.ac(6,"circle",5),l.ac(7,"path",6),l.ec(),l.pc(),l.fc(8,"span",7),l.Yc(9," Back"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(10,"div",8),l.fc(11,"div",9),l.fc(12,"div",10),l.fc(13,"div",11),l.fc(14,"mat-form-field",12),l.fc(15,"mat-label"),l.Yc(16,"Select Floor"),l.ec(),l.fc(17,"mat-select",13),l.nc("selectionChange",(function(e){return t.selectFloor(e.value)})),l.fc(18,"mat-option",14),l.Yc(19,"All"),l.ec(),l.Wc(20,w,2,2,"mat-option",15),l.ec(),l.ec(),l.ec(),l.fc(21,"div",11),l.fc(22,"mat-form-field",12),l.fc(23,"mat-label"),l.Yc(24,"Select Room"),l.ec(),l.fc(25,"mat-select",13),l.nc("selectionChange",(function(e){return t.loadSpaceType(e.value)})),l.fc(26,"mat-option",14),l.Yc(27,"All"),l.ec(),l.Wc(28,O,2,2,"mat-option",15),l.ec(),l.ec(),l.ec(),l.ec(),l.Wc(29,P,4,2,"div",16),l.ec(),l.ec(),l.ec(),l.ec(),l.ac(30,"div",17)),2&e&&(l.Lb(17),l.zc("value",t.selectedFloor),l.Lb(3),l.zc("ngForOf",t.floors),l.Lb(5),l.zc("value",t.selectedSpaceType),l.Lb(3),l.zc("ngForOf",t.spaceTypes),l.Lb(1),l.zc("ngIf",!t.loading))},directives:[v.c,v.f,b.a,y.n,c.m,c.n,x.a,C.b,o.h,k.b,o.f],styles:[".box-container[_ngcontent-%COMP%]{height:100vh;background:#efefef}.box-container[_ngcontent-%COMP%], .firstBox[_ngcontent-%COMP%]{width:100%;max-width:480px}.firstBox[_ngcontent-%COMP%]{background:#c3e6f9;height:342px;padding:26px;margin:auto}.boxContent[_ngcontent-%COMP%]{background:#fff;box-shadow:-5px 5px 55px hsla(0,0%,78.8%,.25);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding:20px;position:relative;top:40px}.header[_ngcontent-%COMP%]{background:#feeae6;height:70px;display:flex;justify-content:space-between;align-items:center;position:sticky;z-index:10000;top:0;padding-left:15px}.boxContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:500;font-size:17px;line-height:135%;letter-spacing:.02em;color:#121212;width:140px}.bookBtn[_ngcontent-%COMP%]{position:relative;top:14px;border:1px solid #176cff!important;border-radius:7px;color:#176cff!important;background:#fff}.filters[_ngcontent-%COMP%]{padding:15px 25px 15px 10px}.font-bold[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-weight:500!important}mat-label[_ngcontent-%COMP%]{font-family:Poppins!important;font-style:normal;font-weight:400;font-size:14px;line-height:26px;color:#4d4d4d}mat-option[_ngcontent-%COMP%]{line-height:1px;color:#4d4d4d}mat-option[_ngcontent-%COMP%], mat-select[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:500;font-size:14px}mat-select[_ngcontent-%COMP%]{line-height:14px;align-items:center;color:#000} .mat-form-field-outline{background:#f8f8f8!important}mat-checkbox-label[_ngcontent-%COMP%], mat-radio-label-content[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:300;font-size:14px;line-height:21px;color:#000}.room-card[_ngcontent-%COMP%]{background:#f8f8f8;padding:10px 16px;box-shadow:none!important;border:1px solid #d2d2d2;border-radius:20px;height:187px}.room-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;line-height:1px}.meeting-img[_ngcontent-%COMP%]{border-radius:6px}.meeting-img-small[_ngcontent-%COMP%]{border-radius:6px;width:42px;height:42px;margin:6px 0}.link[_ngcontent-%COMP%]{font-weight:500;font-family:Poppins;font-size:14px}table[_ngcontent-%COMP%]{width:100%}.book-btn[_ngcontent-%COMP%]{background:#c3e6f9!important;padding:0!important;height:25px!important;font-weight:700!important}.view-btn[_ngcontent-%COMP%]{background:#f8f9fa!important;padding:0!important;height:25px!important;color:#4d4d4d;font-weight:500;border:1px solid #adb5bd!important}.bg-available[_ngcontent-%COMP%], .view-btn[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-size:14px}.bg-available[_ngcontent-%COMP%]{background:#daf6e7;border-radius:4px;flex-direction:row;justify-content:center;padding:5.25px 9.75px;font-weight:400;line-height:20px;display:flex;align-items:center;text-align:center;color:#198754;width:84.5px;height:30.5px}"]}),M),Y=n("3Pt+"),z=n("Da6A"),F=n("IYaI"),T=n("wd/R"),B=((S=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"getAll",value:function(e,t){return this.http.post(p.a.apiUrl+"/order/booking"+t,e)}},{key:"register",value:function(e){return this.http.post(p.a.apiUrl+"/order/booking/register",e)}},{key:"update",value:function(e){return this.http.put(p.a.apiUrl+"/order/booking",e)}},{key:"getById",value:function(e){return this.http.get(p.a.apiUrl+"/order/booking/"+e)}},{key:"delete",value:function(e){return this.http.delete("".concat(p.a.apiUrl,"/order/booking/").concat(e))}},{key:"getAvailableSlots",value:function(e,t){return this.http.post(p.a.apiUrl+"/order/booking/available-slots"+t,e)}},{key:"avgBookingCount",value:function(e){return this.http.post(p.a.apiUrl+"/order/analytics/avgBookingCount",e)}},{key:"dailyBookingCount",value:function(e){return this.http.post(p.a.apiUrl+"/order/analytics/dailyBookingCount",e)}},{key:"mostBookingInventory",value:function(e){return this.http.post(p.a.apiUrl+"/order/analytics/mostBookingInventory",e)}}]),e}()).\u0275fac=function(e){return new(e||S)(l.jc(g.b))},S.\u0275prov=l.Vb({token:S,factory:S.\u0275fac,providedIn:"root"}),S),D=n("pW6c"),Z=n("mpdi"),j=n("0IaG"),A=n("VITL"),U=n("qFsG"),W=n("t34c"),H=n("/1cH"),q=n("NFeN"),V=n("A5z7"),R=n("A8xZ"),E=n("f0Cb");function $(e,t){if(1&e&&(l.fc(0,"h6",58),l.Yc(1),l.ec()),2&e){var n=l.rc().$implicit;l.Lb(1),l.ad(" ",n.designation.name," ")}}function N(e,t){if(1&e){var n=l.gc();l.fc(0,"mat-option",51),l.nc("click",(function(){l.Pc(n);var e=t.$implicit;return l.rc().selectGuest(e)})),l.fc(1,"div",52),l.fc(2,"div",53),l.ac(3,"app-profile-image",54),l.ec(),l.fc(4,"div",55),l.fc(5,"h2",56),l.Yc(6),l.ec(),l.Wc(7,$,2,1,"h6",57),l.ec(),l.ec(),l.ac(8,"mat-divider"),l.ec()}if(2&e){var i=t.$implicit;l.zc("value",i),l.Lb(3),l.zc("user",i),l.Lb(3),l.Zc(i.name),l.Lb(1),l.zc("ngIf",i.designation)}}function G(e,t){if(1&e){var n=l.gc();l.fc(0,"mat-chip",59),l.nc("removed",(function(){l.Pc(n);var e=t.$implicit;return l.rc().remove(e)})),l.Yc(1),l.fc(2,"a",60),l.fc(3,"mat-icon"),l.Yc(4,"cancel"),l.ec(),l.ec(),l.ec()}if(2&e){var i=t.$implicit;l.Lb(1),l.ad(" ",i.name," "),l.Lb(1),l.Mb("aria-label","remove "+i)}}function Q(e,t){if(1&e){var n=l.gc();l.fc(0,"mat-option",63),l.nc("click",(function(){l.Pc(n);var e=t.$implicit;return l.rc(2).selectedTime(e.slot)})),l.Yc(1),l.sc(2,"date"),l.ec()}if(2&e){var i=t.$implicit;l.zc("value",i.slot),l.Lb(1),l.Zc(l.uc(2,2,i.slot,"shortTime"))}}function X(e,t){if(1&e&&(l.fc(0,"mat-form-field",24),l.fc(1,"mat-label"),l.Yc(2,"booking start time"),l.ec(),l.fc(3,"mat-select",61),l.Wc(4,Q,3,5,"mat-option",62),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(4),l.zc("ngForOf",n.availableSlots)}}var K,J,ee=((K=function(){function e(t,n,i,c,o,a,r,l,s,f,d,u){_classCallCheck(this,e),this.router=t,this.formBuilder=n,this.activatedRoute=i,this.utilService=c,this.inventoryService=o,this.imageService=a,this.bookingService=r,this.alertService=l,this.authenticationService=s,this.searchService=f,this.dialog=d,this.userService=u,this.brand={},this.venue={},this.inventory={},this.submitted=!1,this.loading=!1,this.slotLoading=!1,this.availableSlots=[],this.currentUser={},this.members=[],this.duration="30 min",this.hostList=[],this.usersList=[],this.host={},this.currentUser=this.authenticationService.currentUserValue}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.brand=this.utilService.getBrand(),this.venue=this.utilService.getVenue(),this.activatedRoute.params.subscribe((function(t){var n=t.id;n&&e.loadVacentInventory(n)})),this.registerForm=this.formBuilder.group({_id:[null],title:[""],inventoryType:["",Y.v.required],host:[""],spaceType:["",Y.v.required],inventory:["",Y.v.required],startDate:[(new Date).toISOString(),Y.v.required],endDate:[(new Date).toISOString(),Y.v.required],startTime:[this.utilService.timeToInput(new Date),Y.v.required],endTime:[this.utilService.timeToInput(Object(z.a)(new Date,1)),Y.v.required],paymentType:["Online"],name:[""],purpose:["Meeting"],email:[""],duration:["30"],description:[""]});var t=new Date;this.dayStartHour=t.getHours(),t.setHours(23,59,59,59),this.dayEndHour=this.dayStartHour+8<t.getHours()?this.dayStartHour+8:t.getHours(),this.loadAllUser({objectId:this.brand._id},""),this.allocateHost(this.currentUser)}},{key:"f",get:function(){return this.registerForm.controls}},{key:"loadVacentInventory",value:function(e){var t=this;this.loading=!0,this.inventoryService.getById(e).pipe(Object(r.a)(2)).subscribe((function(e){var n;t.inventory=e,t.loading=!1,t.registerForm.patchValue({inventoryType:t.inventory.inventoryType,spaceType:null===(n=t.inventory.spaceType)||void 0===n?void 0:n._id,inventory:t.inventory._id})}))}},{key:"imgSrc",value:function(e,t){return this.imageService.getImageUrl(e,t)}},{key:"loadAvailableSlots",value:function(e){var t=this;if(this.inventory._id){this.duration=this.utilService.transformMinute(e),this.registerForm.patchValue({duration:e});var n,i=(n=Object(F.a)(new Date(this.registerForm.value.startDate),15),new Date(9e5*Math.round(n/9e5))),c=new Date;c.setHours(23,59,59,999);var o={inventory:this.inventory._id,startDate:i.toISOString(),endDate:c.toISOString(),duration:e};this.slotLoading=!0,this.bookingService.getAvailableSlots(o,"").pipe(Object(r.a)(2)).subscribe((function(e){e.forEach((function(e){e.available&&t.availableSlots.push(e)})),t.slotLoading=!1}))}}},{key:"selectedTime",value:function(e){e=new Date(e),this.updateTime(e,this.registerForm.value.duration)}},{key:"updateTime",value:function(e,t){t&&this.registerForm.patchValue({startDate:e.toISOString(),endDate:Object(F.a)(e,1*t).toISOString()})}},{key:"onSubmit",value:function(){var e,t,n,i=this;if(this.submitted=!0,this.registerForm.invalid)this.alertService.error("Please Provide Required Details!");else{this.loading=!0;var c=this.registerForm.value;delete c.name,delete c.email,c.venue=this.venue._id,c.host=null===(e=this.currentUser)||void 0===e?void 0:e._id,c.user=null===(t=this.currentUser)||void 0===t?void 0:t._id,c.seat=this.inventory.capacity,c.inventoryType=this.inventory.inventoryType,c.spaceType=this.inventory.spaceType?this.inventory.spaceType._id:"",c.inventory=this.inventory?this.inventory._id:"",c.brand=this.brand._id,c.status="Created",c.creator=null===(n=this.currentUser)||void 0===n?void 0:n._id,c.members=[],this.members.forEach((function(e){e.email&&c.members.push(e._id)})),c.startDate=T.utc(c.startDate),c.endDate=T.utc(c.endDate),this.bookingService.register(c).pipe(Object(r.a)(2)).subscribe((function(e){i.alertService.success("Booked Successfully!"),i.loading=!1,i.router.navigate(["booking/details/"+e._id])}))}}},{key:"selectGuest",value:function(e){this.inventory.capacity>this.members.length?this.utilService.getObject(this.members,"_id",e._id)||this.members.push(e):this.alertService.error("Guest Limit Reached For This Room!")}},{key:"removeGuest",value:function(e){this.members.splice(e,1)}},{key:"allocateHost",value:function(e){this.host=e,this.registerForm.controls.host.setValue(this.host)}},{key:"searchData",value:function(e,t,n){var i=this;this.searchService.onChangeSearch(e,{},t,(function(e){"host"==n?(i.hostList=[],e.data.forEach((function(e){e.user&&i.hostList.push(e.user)})),i.filteredHostOptions=i.utilService.filterForm(i.registerForm.controls.host,i.hostList)):"guest"==n&&(i.usersList=[],e.data.forEach((function(e){e.user&&i.usersList.push(e.user)})),i.filteredLessorOptions=i.utilService.filterForm(i.registerForm.controls.name,i.usersList))}))}},{key:"displayFn",value:function(e){return e&&e.name?e.name:""}},{key:"loadAllUser",value:function(e,t){var n=this;this.userService.getAll(e,t).pipe(Object(r.a)(2)).subscribe((function(e){n.usersList=[],n.hostList=[],e.data.forEach((function(e){e.user&&e.user.email&&(n.hostList.push(e.user),n.usersList.push(e.user))})),n.filteredHostOptions=n.utilService.filterForm(n.registerForm.controls.host,n.hostList),n.filteredLessorOptions=n.utilService.filterForm(n.registerForm.controls.name,n.usersList)}))}},{key:"previewlogo",value:function(){}},{key:"remove",value:function(e){var t=this.members.indexOf(e);t>=0&&this.members.splice(t,1)}}]),e}()).\u0275fac=function(e){return new(e||K)(l.Zb(o.e),l.Zb(Y.d),l.Zb(o.a),l.Zb(s.a),l.Zb(d.a),l.Zb(u.a),l.Zb(B),l.Zb(h.a),l.Zb(D.a),l.Zb(Z.a),l.Zb(j.b),l.Zb(A.a))},K.\u0275cmp=l.Tb({type:K,selectors:[["app-meeting-book"]],decls:99,vars:15,consts:[[1,"container-fluid","p-0"],[1,"box-container","mx-auto"],[1,"header"],["onclick","history.back()",1,"d-flex","align-items-center","text-dark"],["width","38","height","39","viewBox","0 0 38 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","19","cy","19.7747","r","18.5","stroke","#6C757D"],["d","M8.76354 19.3351L13.9963 14.3406C14.3868 13.9661 15.0228 13.9661 15.4133 14.3454C15.8039 14.72 15.8039 15.3299 15.4083 15.7045L11.8932 19.0566H29.4419C29.9927 19.0566 30.4434 19.4888 30.4434 20.0171C30.4434 20.5453 29.9927 20.9775 29.4419 20.9775H11.8932L15.4083 24.3296C15.7989 24.7042 15.8039 25.3141 15.4133 25.6887C15.0228 26.0633 14.3868 26.0681 13.9963 25.6935L8.76354 20.699C8.36796 20.3196 8.37297 19.7097 8.76354 19.3351Z","fill","#6C757D"],[1,"ml-2"],[1,"firstBox"],[1,"boxContent"],[3,"formGroup","ngSubmit"],[1,"d-flex"],[1,"ml-auto","float-right","d-flex"],[1,"mr-3"],["type","button","mat-stroked-button","","color","accent",1,"discard",3,"routerLink"],["mat-button","","color","primary"],[1,"card","my-3","p-2",2,"max-width","100%"],[1,"row","no-gutters"],[1,"col-4"],["defaultImage","/assets/image/ScanQr/meetingRoom.svg","width","100%","height","100%","alt","",1,"meeting-img",3,"lazyLoad"],[1,"col-8"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["appearance","outline",1,"full-width","w-100"],["matInput","","placeholder","Enter title","formControlName","title"],["formControlName","purpose","placeholder","Select purpose"],["value","Meeting"],["value","Interview"],["value","Sales"],["value","Family and Friends"],["value","Courier"],["value","Event"],["value","Other"],["type","text","placeholder","Invite Attendee","aria-label","Number","matInput","",3,"matAutocomplete","keyup"],["matSuffix","",1,"position-relative",2,"top","-2px"],["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.25001 11.5C9.1495 11.5 11.5 9.1495 11.5 6.25001C11.5 3.35051 9.1495 1 6.25001 1C3.35051 1 1 3.35051 1 6.25001C1 9.1495 3.35051 11.5 6.25001 11.5Z","stroke","black","stroke-linecap","round","stroke-linejoin","round"],["d","M9.96289 9.96265L13.0004 13.0002","stroke","black","stroke-linecap","round","stroke-linejoin","round"],[3,"displayWith"],["lessorAuto","matAutocomplete"],["style","line-height:45px !important;","class","my-1",3,"value","click",4,"ngFor","ngForOf"],["aria-label","selection"],[3,"removed",4,"ngFor","ngForOf"],["formControlName","duration","placeholder","booking duration",3,"selectionChange"],["value","15"],["value","30"],["value","60"],["value","90"],["value","120"],["appearance","outline","class","full-width w-100",4,"ngIf"],[1,"my-1",2,"line-height","45px !important",3,"value","click"],[1,"d-flex","flex-row","my-1"],[2,"place-self","center"],[3,"user"],[1,"ml-2","align-self-center"],[1,"user-text","mb-0","font-weight-bold"],["class","mb-0 sub-text",4,"ngIf"],[1,"mb-0","sub-text"],[3,"removed"],["matChipRemove",""],["placeholder","booking start time"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"]],template:function(e,t){if(1&e&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"div",2),l.fc(3,"div"),l.fc(4,"a",3),l.qc(),l.fc(5,"svg",4),l.ac(6,"circle",5),l.ac(7,"path",6),l.ec(),l.pc(),l.fc(8,"span",7),l.Yc(9," Back"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(10,"div",8),l.fc(11,"div",9),l.fc(12,"form",10),l.nc("ngSubmit",(function(){return t.onSubmit()})),l.fc(13,"div",11),l.fc(14,"div"),l.fc(15,"h2"),l.Yc(16," Booking Details "),l.ec(),l.ec(),l.fc(17,"div",12),l.fc(18,"div",13),l.fc(19,"button",14),l.Yc(20,"Discard"),l.ec(),l.ec(),l.fc(21,"div"),l.fc(22,"button",15),l.Yc(23,"Book"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(24,"div",16),l.fc(25,"div",17),l.fc(26,"div",18),l.ac(27,"img",19),l.ec(),l.fc(28,"div",20),l.fc(29,"div",21),l.fc(30,"h2",22),l.Yc(31),l.ec(),l.fc(32,"div",11),l.fc(33,"label"),l.Yc(34,"Capicity"),l.ec(),l.fc(35,"p",23),l.Yc(36),l.ec(),l.ec(),l.fc(37,"div",11),l.fc(38,"label"),l.Yc(39,"Time"),l.ec(),l.fc(40,"p",23),l.Yc(41),l.ec(),l.ec(),l.fc(42,"div",11),l.fc(43,"label"),l.Yc(44,"Floor"),l.ec(),l.fc(45,"p",23),l.Yc(46),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(47,"section"),l.fc(48,"mat-form-field",24),l.fc(49,"mat-label"),l.Yc(50,"Enter title"),l.ec(),l.ac(51,"input",25),l.ec(),l.fc(52,"mat-form-field",24),l.fc(53,"mat-label"),l.Yc(54,"Select purpose"),l.ec(),l.fc(55,"mat-select",26),l.fc(56,"mat-option",27),l.Yc(57,"Meeting"),l.ec(),l.fc(58,"mat-option",28),l.Yc(59,"Interview"),l.ec(),l.fc(60,"mat-option",29),l.Yc(61,"Sales"),l.ec(),l.fc(62,"mat-option",30),l.Yc(63,"Family and Friends"),l.ec(),l.fc(64,"mat-option",31),l.Yc(65,"Courier"),l.ec(),l.fc(66,"mat-option",32),l.Yc(67,"Event"),l.ec(),l.fc(68,"mat-option",33),l.Yc(69,"Other"),l.ec(),l.ec(),l.ec(),l.fc(70,"mat-form-field",24),l.fc(71,"mat-label"),l.Yc(72,"Invite Attendee"),l.ec(),l.fc(73,"input",34),l.nc("keyup",(function(e){return t.searchData(e.target.value,"user","guest")})),l.ec(),l.fc(74,"mat-icon",35),l.qc(),l.fc(75,"svg",36),l.ac(76,"path",37),l.ac(77,"path",38),l.ec(),l.ec(),l.pc(),l.fc(78,"mat-autocomplete",39,40),l.Wc(80,N,9,4,"mat-option",41),l.sc(81,"async"),l.ec(),l.ec(),l.fc(82,"mat-chip-list",42),l.Wc(83,G,5,2,"mat-chip",43),l.ec(),l.fc(84,"mat-form-field",24),l.fc(85,"mat-label"),l.Yc(86,"booking duration"),l.ec(),l.fc(87,"mat-select",44),l.nc("selectionChange",(function(e){return t.loadAvailableSlots(e.value)})),l.fc(88,"mat-option",45),l.Yc(89,"15 minutes"),l.ec(),l.fc(90,"mat-option",46),l.Yc(91,"30 minutes"),l.ec(),l.fc(92,"mat-option",47),l.Yc(93,"1 hour"),l.ec(),l.fc(94,"mat-option",48),l.Yc(95,"1 hour, 30 minutes"),l.ec(),l.fc(96,"mat-option",49),l.Yc(97,"2 hour"),l.ec(),l.ec(),l.ec(),l.Wc(98,X,5,1,"mat-form-field",50),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec()),2&e){var n=l.Lc(79);l.Lb(12),l.zc("formGroup",t.registerForm),l.Lb(7),l.zc("routerLink","/booking/room/5eba33813ccca9155084f4d4"),l.Lb(8),l.zc("lazyLoad",t.imgSrc("venue",t.inventory.name)),l.Lb(4),l.bd("",null==t.inventory.spaceType?null:t.inventory.spaceType.name.replace("s","")," ",t.inventory.name,""),l.Lb(5),l.Zc(t.inventory.capacity),l.Lb(5),l.Zc(t.duration),l.Lb(5),l.Zc(null==t.inventory.floor?null:t.inventory.floor.name),l.Lb(27),l.zc("matAutocomplete",n),l.Lb(5),l.zc("displayWith",t.displayFn),l.Lb(2),l.zc("ngForOf",l.tc(81,13,t.filteredLessorOptions)),l.Lb(3),l.zc("ngForOf",t.members),l.Lb(15),l.zc("ngIf",!t.slotLoading&&t.availableSlots.length>0)}},directives:[Y.w,Y.p,Y.g,k.b,o.f,C.b,v.c,v.f,U.b,Y.b,Y.o,Y.f,W.b,b.a,y.n,H.c,q.a,v.g,H.a,c.m,V.b,c.n,R.a,E.a,V.a,V.c],pipes:[c.b,c.e],styles:[".box-container[_ngcontent-%COMP%]{height:100vh;width:100%;max-width:480px;background:#efefef}.header[_ngcontent-%COMP%]{background:#feeae6;height:70px;display:flex;padding-left:15px;justify-content:space-between;align-items:center;position:sticky;z-index:10000;top:0}.firstBox[_ngcontent-%COMP%]{background:#c3e6f9;height:342px;padding:26px;max-width:480px;width:100%;margin:auto}.boxContent[_ngcontent-%COMP%]{background:#fff;box-shadow:-5px 5px 55px hsla(0,0%,78.8%,.25);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding:20px;position:relative;top:40px}.boxContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600!important;font-size:16px;line-height:30px;letter-spacing:.02em;color:#121212}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500}label[_ngcontent-%COMP%]{font-size:14px;line-height:26px;width:110px}.discard[_ngcontent-%COMP%]{background:rgba(220,53,69,.15);color:#dc3545}.view-btn[_ngcontent-%COMP%]{border-radius:4px!important}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-weight:400!important}.calendar-card[_ngcontent-%COMP%]{min-height:100vh;padding:0!important}  .mat-input-element{font-size:14px;font-weight:500}.mat-option[_ngcontent-%COMP%]{height:52px!important}.mat-chip[_ngcontent-%COMP%]{background:#2c374a!important;border-radius:2px;color:#fff;font-weight:500;font-size:12px;font-family:Poppins;text-align:center;padding:1px 10px;border-radius:3px;margin-bottom:24px!important}  .dynField .mat-form-field-infix{margin-top:6px!important;height:30px!important}  .mat-chip-remove .mat-chip-trailing-icon{background:#2c374a!important}mat-icon[_ngcontent-%COMP%]{color:#fff!important;position:relative;bottom:3px}"]}),K),te=n("QibW"),ne=((J=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||J)},J.\u0275cmp=l.Tb({type:J,selectors:[["app-cancel-booking"]],decls:24,vars:1,consts:[[1,"p-3"],[1,"d-flex","justify-content-center","text-center","flex-column"],["src","/assets/image/ScanQr/cancelBooking.svg","alt",""],["aria-label","Select an option"],["value","Another meeting came"],["value","Facility not availble in the room"],["value","Wrongly booked"],[1,"d-flex","text-center","flex-column","mt-3"],["mat-button","",1,"border-danger","btn","w-100","text-danger","border","rounded","my-2",3,"mat-dialog-close"],["href","javascript:;",1,"text-dark","w-100","my-2"]],template:function(e,t){1&e&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"div"),l.ac(3,"img",2),l.ec(),l.fc(4,"div"),l.fc(5,"h2"),l.Yc(6,"Want to cancel your booking?"),l.ec(),l.ec(),l.fc(7,"div"),l.fc(8,"p"),l.Yc(9,"Seletc reason of cancelling."),l.ec(),l.ec(),l.ec(),l.fc(10,"mat-radio-group",3),l.fc(11,"mat-radio-button",4),l.Yc(12,"Another meeting came"),l.ec(),l.fc(13,"mat-radio-button",5),l.Yc(14,"Facility not availble in the room"),l.ec(),l.fc(15,"mat-radio-button",6),l.Yc(16,"Wrongly booked"),l.ec(),l.ec(),l.fc(17,"div",7),l.fc(18,"div"),l.fc(19,"button",8),l.Yc(20,"Cancel"),l.ec(),l.ec(),l.fc(21,"div"),l.fc(22,"a",9),l.Yc(23,"Back"),l.ec(),l.ec(),l.ec(),l.ec()),2&e&&(l.Lb(19),l.zc("mat-dialog-close",!0))},directives:[te.b,te.a,k.b,j.d],styles:["h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600;font-size:22px;line-height:30px;text-align:center;letter-spacing:.02em;color:#121212}p[_ngcontent-%COMP%]{font-weight:300}mat-radio-button[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-size:14px;line-height:24px;color:#000}mat-radio-button[_ngcontent-%COMP%]{font-weight:500;height:40px;display:flex;align-items:center;height:30px}.text-danger[_ngcontent-%COMP%]{color:#dc3545}.text-danger[_ngcontent-%COMP%], .text-dark[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:500;font-size:14px;letter-spacing:.011em}.text-dark[_ngcontent-%COMP%]{line-height:135%;text-align:center;color:#121212}"]}),J),ie=["pdfContent"];function ce(e,t){if(1&e&&(l.fc(0,"div"),l.fc(1,"label"),l.Yc(2,"Space name"),l.ec(),l.fc(3,"h3"),l.Yc(4),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(4),l.Zc(null==n.item||null==n.item.venue?null:n.item.venue.name)}}function oe(e,t){if(1&e&&(l.fc(0,"div"),l.fc(1,"label"),l.Yc(2,"Booking time"),l.ec(),l.fc(3,"h3"),l.Yc(4),l.sc(5,"date"),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(4),l.Zc(l.uc(5,1,null==n.item?null:n.item.startDate,"shortTime"))}}function ae(e,t){if(1&e&&(l.fc(0,"div"),l.fc(1,"label"),l.Yc(2,"Location"),l.ec(),l.fc(3,"h3"),l.Yc(4),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(4),l.ad(" ",null==n.item||null==n.item.venue||null==n.item.venue.location?null:n.item.venue.location.formattedAddress," ")}}function re(e,t){if(1&e&&(l.fc(0,"div"),l.fc(1,"label"),l.Yc(2,"Floor"),l.ec(),l.fc(3,"h3"),l.Yc(4),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(4),l.ad(" ",null==n.item||null==n.item.inventory?null:n.item.inventory.floor," ")}}function le(e,t){if(1&e&&(l.fc(0,"div"),l.fc(1,"label"),l.Yc(2,"Floor"),l.ec(),l.fc(3,"h3"),l.Yc(4),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(4),l.ad(" ",null==n.item||null==n.item.building?null:n.item.building.floor," ")}}function se(e,t){if(1&e&&(l.fc(0,"div"),l.fc(1,"label"),l.Yc(2,"Booking date"),l.ec(),l.fc(3,"h3"),l.Yc(4),l.sc(5,"date"),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(4),l.ad(" ",l.uc(5,1,null==n.item?null:n.item.startDate,"MMM d, y")," ")}}function fe(e,t){if(1&e&&(l.fc(0,"div",30),l.fc(1,"div",7),l.ac(2,"app-profile-image",31),l.ec(),l.fc(3,"div",32),l.fc(4,"p",20),l.Yc(5),l.ec(),l.ec(),l.ec()),2&e){var n=t.$implicit;l.Lb(2),l.zc("user",n),l.Lb(3),l.Zc(null==n?null:n.name)}}var de,ue=((de=function(){function e(t,n,i,c,o,a,r){_classCallCheck(this,e),this.activatedRoute=t,this.utilService=n,this.dialog=i,this.authenticationService=c,this.imageService=o,this.bookingService=a,this.alertService=r,this.item={},this.currentUser={},this.homeUrl="/community",this.currentUser=this.authenticationService.currentUserValue,this.homeUrl=this.utilService.getHomeUrl(this.currentUser)}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.params.subscribe((function(t){e.loadInvoices(t.id)}))}},{key:"loadInvoices",value:function(e){var t=this;this.bookingService.getById(e).pipe(Object(r.a)(2)).subscribe((function(e){t.item=e,t.item.startDate=t.utilService.formatLocalDate(t.item.startDate),t.item.endDate=t.utilService.formatLocalDate(t.item.endDate)}))}},{key:"imgSrc",value:function(e,t){return this.imageService.getDefaultImageUrl(e,t)}},{key:"getFileUrl",value:function(e,t){return this.imageService.getFileUrl(e,t)}},{key:"printDocument",value:function(){var e=document.getElementById("pdfContent").innerHTML;document.body.innerHTML=e,window.print(),window.location.reload()}},{key:"getFormattedAmount",value:function(e){return this.utilService.getFormattedAmount(e)}},{key:"copyLink",value:function(e){this.utilService.copyData(p.a.HOST+"/booking/"+e._id),this.alertService.success("Link Copied Successfully!")}},{key:"transformMinute",value:function(e){return this.utilService.transformMinute(e)}},{key:"cancelDialog",value:function(){this.dialog.open(ne,{width:"371px",height:"550px"}).afterClosed().subscribe((function(e){console.log("Dialog result: "+e)}))}}]),e}()).\u0275fac=function(e){return new(e||de)(l.Zb(o.a),l.Zb(s.a),l.Zb(j.b),l.Zb(D.a),l.Zb(u.a),l.Zb(B),l.Zb(h.a))},de.\u0275cmp=l.Tb({type:de,selectors:[["app-view-booking"]],viewQuery:function(e,t){var n;1&e&&l.dd(ie,!0,l.o),2&e&&l.Kc(n=l.oc())&&(t.pdfContent=n.first)},decls:62,vars:14,consts:[[1,"container-fluid","p-0"],[1,"box-container","mx-auto"],[1,"header"],["onclick","history.back()",1,"d-flex","align-items-center","text-dark"],["width","38","height","39","viewBox","0 0 38 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","19","cy","19.7747","r","18.5","stroke","#6C757D"],["d","M8.76354 19.3351L13.9963 14.3406C14.3868 13.9661 15.0228 13.9661 15.4133 14.3454C15.8039 14.72 15.8039 15.3299 15.4083 15.7045L11.8932 19.0566H29.4419C29.9927 19.0566 30.4434 19.4888 30.4434 20.0171C30.4434 20.5453 29.9927 20.9775 29.4419 20.9775H11.8932L15.4083 24.3296C15.7989 24.7042 15.8039 25.3141 15.4133 25.6887C15.0228 26.0633 14.3868 26.0681 13.9963 25.6935L8.76354 20.699C8.36796 20.3196 8.37297 19.7097 8.76354 19.3351Z","fill","#6C757D"],[1,"ml-2"],[1,"firstBox"],[1,"boxContent"],[1,"position-relative","text-center",2,"top","38px","z-index","1"],["width","76","height","75","viewBox","0 0 76 75","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","37.9023","cy","37.5","r","37.5","fill","#DAE6FC"],["fill-rule","evenodd","clip-rule","evenodd","d","M24.9362 39.1443L32.8245 46.3894C33.3764 46.8973 34.1048 47.1699 34.8546 47.149C35.6044 47.1282 36.3165 46.8156 36.8393 46.2778L50.9151 32.7995C51.4252 32.2626 51.7087 31.5499 51.7067 30.8094C51.7047 30.0689 51.4173 29.3577 50.9043 28.8237C50.3913 28.2897 49.6922 27.974 48.9524 27.9422C48.2126 27.9104 47.489 28.1651 46.9322 28.6532L34.7343 40.3273L28.8336 34.9104C28.2718 34.3936 27.5278 34.1211 26.7652 34.1528C26.0026 34.1846 25.2838 34.518 24.7669 35.0797C24.2501 35.6414 23.9776 36.3854 24.0094 37.1481C24.0411 37.9107 24.3745 38.6295 24.9362 39.1463V39.1443ZM37.9028 9.79581C32.4235 9.79581 27.0673 11.4206 22.5115 14.4647C17.9557 17.5088 14.4049 21.8355 12.308 26.8977C10.2112 31.9598 9.6626 37.5301 10.7315 42.9041C11.8005 48.278 14.439 53.2143 18.3134 57.0887C22.1878 60.9631 27.1241 63.6016 32.4981 64.6706C37.8721 65.7395 43.4423 65.1909 48.5045 63.0941C53.5666 60.9973 57.8933 57.4464 60.9374 52.8906C63.9815 48.3348 65.6063 42.9786 65.6063 37.4994C65.6063 30.1519 62.6876 23.1054 57.4922 17.91C52.2967 12.7146 45.2502 9.79581 37.9028 9.79581Z","fill","#176CFF"],[1,"text-center","mt-5"],[2,"border-top","1px dashed #C6C6C6"],[1,"infoCard"],[1,"d-flex","flex-row"],["defaultImage","/assets/image/ScanQr/room.svg","width","48","height","48","alt","",1,"meeting-img",3,"lazyLoad"],[1,"d-flex","flex-column","ml-3"],[1,"mb-0"],[1,"detialsCard"],[1,"d-flex","flex-column"],[4,"ngIf"],[1,"invitedCard"],[1,"d-flex","flex-wrap"],["class","d-flex flex-column align-items-center  justify-content-center mr-3",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","position-relative",2,"top","150px"],[1,"editBtn","mb-3",3,"routerLink"],[1,"bg-transparent","text-danger","mb-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center","mr-3"],[3,"user"],[1,"d-flex","flex-column","ml-2"]],template:function(e,t){1&e&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"div",2),l.fc(3,"div"),l.fc(4,"a",3),l.qc(),l.fc(5,"svg",4),l.ac(6,"circle",5),l.ac(7,"path",6),l.ec(),l.pc(),l.fc(8,"span",7),l.Yc(9," Back"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(10,"div",8),l.fc(11,"div",9),l.fc(12,"h2"),l.Yc(13," Booking Details "),l.ec(),l.fc(14,"div",10),l.qc(),l.fc(15,"svg",11),l.ac(16,"circle",12),l.ac(17,"path",13),l.ec(),l.ec(),l.pc(),l.fc(18,"section"),l.fc(19,"h1",14),l.Yc(20,"Booking Confirmed!"),l.ec(),l.ac(21,"hr",15),l.fc(22,"div",16),l.fc(23,"h2"),l.Yc(24,"Booking with \xa0:"),l.ec(),l.fc(25,"div",17),l.fc(26,"div"),l.ac(27,"img",18),l.ec(),l.fc(28,"div",19),l.fc(29,"div"),l.fc(30,"h3",20),l.Yc(31),l.ec(),l.ec(),l.fc(32,"div"),l.fc(33,"p"),l.Yc(34),l.ec(),l.ec(),l.fc(35,"div"),l.fc(36,"p"),l.Yc(37),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ac(38,"hr",15),l.fc(39,"div",21),l.fc(40,"h2"),l.Yc(41,"Booking Detials \xa0:"),l.ec(),l.fc(42,"div",17),l.fc(43,"div",22),l.Wc(44,ce,5,1,"div",23),l.Wc(45,oe,6,4,"div",23),l.Wc(46,ae,5,1,"div",23),l.ec(),l.fc(47,"div"),l.Wc(48,re,5,1,"div",23),l.Wc(49,le,5,1,"div",23),l.Wc(50,se,6,4,"div",23),l.ec(),l.ec(),l.ec(),l.ac(51,"hr",15),l.fc(52,"h2"),l.Yc(53),l.ec(),l.fc(54,"div",24),l.fc(55,"div",25),l.Wc(56,fe,6,2,"div",26),l.ec(),l.ec(),l.fc(57,"div",27),l.fc(58,"a",28),l.Yc(59,"Edit Booking"),l.ec(),l.fc(60,"a",29),l.nc("click",(function(){return t.cancelDialog()})),l.Yc(61,"Cancel This Booking"),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec()),2&e&&(l.Lb(27),l.zc("lazyLoad",t.imgSrc("venue",null==t.item||null==t.item.inventory||null==t.item.inventory.image?null:t.item.inventory.image.name)),l.Lb(4),l.bd("",null==t.item||null==t.item.spaceType?null:t.item.spaceType.name," ",null==t.item||null==t.item.inventory?null:t.item.inventory.name,""),l.Lb(3),l.ad("",null==t.item?null:t.item.seat," peoples"),l.Lb(3),l.Zc(null==t.item||null==t.item.user?null:t.item.user.name),l.Lb(7),l.zc("ngIf",null==t.item||null==t.item.venue?null:t.item.venue.name),l.Lb(1),l.zc("ngIf",null==t.item?null:t.item.startDate),l.Lb(1),l.zc("ngIf",null==t.item||null==t.item.venue||null==t.item.venue.location?null:t.item.venue.location.formattedAddress),l.Lb(2),l.zc("ngIf",null==t.item?null:t.item.purpose),l.Lb(1),l.zc("ngIf",null==t.item?null:t.item.floor),l.Lb(1),l.zc("ngIf",null==t.item?null:t.item.startDate),l.Lb(3),l.ad("Invited members \xa0:",null==t.item||null==t.item.members?null:t.item.members.length,""),l.Lb(3),l.zc("ngForOf",null==t.item?null:t.item.members),l.Lb(2),l.zc("routerLink","/booking/room/5eba33813ccca9155084f4d4"))},directives:[C.b,c.n,c.m,o.h,R.a],pipes:[c.e],styles:[".box-container[_ngcontent-%COMP%]{height:120vh;width:100%;max-width:480px;background:#efefef}.header[_ngcontent-%COMP%]{background:#feeae6;height:70px;display:flex;padding-left:15px;justify-content:space-between;align-items:center;position:sticky;z-index:10000;top:0}.firstBox[_ngcontent-%COMP%]{background:#c3e6f9;height:342px;padding:26px;max-width:480px;width:100%;margin:auto}.boxContent[_ngcontent-%COMP%]{background:#fff;box-shadow:-5px 5px 55px hsla(0,0%,78.8%,.25);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding:20px;position:relative;top:40px}.boxContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600!important;font-size:16px;line-height:30px;letter-spacing:.02em;color:#121212}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-family:Poppins;font-weight:500}label[_ngcontent-%COMP%]{font-size:14px;font-family:Poppins;font-weight:400;line-height:26px;width:122px}.boxContent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;font-size:24px;line-height:32px;text-align:center;letter-spacing:.02em;color:#000}.boxContent[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .editBtn[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal}.editBtn[_ngcontent-%COMP%]{border:1px solid #176cff!important;border-radius:12px;background:#fff;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:17px 90px;color:#176cff!important}.editBtn[_ngcontent-%COMP%], .text-danger[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:135%;letter-spacing:.011em}.text-danger[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;text-align:center;color:#dc3545}"]}),de);function pe(e,t){if(1&e&&(l.fc(0,"div",10),l.fc(1,"div"),l.fc(2,"label"),l.Yc(3,"Description \xa0"),l.fc(4,"b"),l.Yc(5,":"),l.ec(),l.ec(),l.ec(),l.fc(6,"div",16),l.fc(7,"h3",17),l.Yc(8),l.ec(),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(8),l.ad("",null==n.inventory?null:n.inventory.description," ")}}function ge(e,t){if(1&e&&(l.fc(0,"div",10),l.fc(1,"div"),l.fc(2,"label"),l.Yc(3,"Direction \xa0"),l.fc(4,"b"),l.Yc(5,":"),l.ec(),l.ec(),l.ec(),l.fc(6,"div",16),l.fc(7,"h3",17),l.Yc(8),l.ec(),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(8),l.Zc(null==n.inventory?null:n.inventory.description)}}function me(e,t){if(1&e&&l.ac(0,"img",28),2&e){var n=l.rc(2).$implicit,i=l.rc(2);l.zc("lazyLoad",i.imgSrc("venue",null==n||null==n.facility?null:n.facility.icon))}}function he(e,t){if(1&e&&(l.fc(0,"p",10),l.Wc(1,me,1,1,"img",27),l.Yc(2),l.ec()),2&e){var n=l.rc().$implicit;l.Lb(1),l.zc("ngIf",null==n||null==n.facility?null:n.facility.icon),l.Lb(1),l.ad(" \xa0 ",null==n||null==n.facility?null:n.facility.name," ")}}function ve(e,t){if(1&e&&(l.fc(0,"div",25),l.Wc(1,he,3,2,"p",26),l.ec()),2&e){var n=t.$implicit;l.Lb(1),l.zc("ngIf",null==n||null==n.facility?null:n.facility.icon)}}function be(e,t){if(1&e&&(l.fc(0,"div"),l.fc(1,"h4",21),l.Yc(2,"Facilities"),l.ec(),l.fc(3,"div",22),l.fc(4,"div",14),l.Wc(5,ve,2,1,"div",24),l.ec(),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(5),l.zc("ngForOf",n.amenities.data)}}function ye(e,t){if(1&e&&l.ac(0,"img",32),2&e){var n=l.rc(2);l.zc("lazyLoad",n.imgSrc("venue",n.inventory.taggedImages[0].name))}}function xe(e,t){if(1&e&&l.ac(0,"img",35),2&e){var n=l.rc().$implicit,i=l.rc(2);l.zc("lazyLoad",i.imgSrc("venue",n.name))}}function Ce(e,t){if(1&e&&(l.fc(0,"div",33),l.fc(1,"div",10),l.Wc(2,xe,1,1,"img",34),l.ec(),l.ec()),2&e){var n=t.$implicit,i=t.index;l.Lb(2),l.zc("ngIf",n.name&&i<4)}}function ke(e,t){if(1&e&&(l.fc(0,"div",14),l.fc(1,"div",29),l.Wc(2,ye,1,1,"img",30),l.ec(),l.fc(3,"div",29),l.fc(4,"div",14),l.Wc(5,Ce,3,1,"div",31),l.sc(6,"slice"),l.ec(),l.ec(),l.ec()),2&e){var n=l.rc();l.Lb(2),l.zc("ngIf",n.inventory.taggedImages[0].name),l.Lb(3),l.zc("ngForOf",l.vc(6,2,n.inventory.taggedImages,1,5))}}var we,Oe,_e,Le=[{path:"room/:id",component:I,canActivate:[a.a]},{path:"room/view/:id",component:(we=function(){function e(t,n,i,c,o){_classCallCheck(this,e),this.dialog=t,this.utilService=n,this.imageService=i,this.inventoryService=c,this.activatedRoute=o,this.amenities=[],this.brand={},this.venue={},this.inventory={},this.facilitySkeleton=!1,this.loading=!1,this.siteFiles=[],this.progress=0,this.submitted=!1,this.uploadedImage=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.brand=this.utilService.getBrand(),this.venue=this.utilService.getVenue();var t=new Date;this.dayStartHour=t.getHours(),t.setHours(23,59,59,59),this.dayEndHour=this.dayStartHour+8<t.getHours()?this.dayStartHour+8:t.getHours(),this.activatedRoute.params.subscribe((function(t){var n=t.id;n&&e.loadVacentInventory(n)}))}},{key:"loadVacentInventory",value:function(e){var t=this;this.loading=!0,this.inventoryService.getById(e).pipe(Object(r.a)(2)).subscribe((function(e){t.inventory=e,t.loading=!1}))}},{key:"imgSrc",value:function(e,t){return this.imageService.getImageUrl(e,t)}}]),e}(),we.\u0275fac=function(e){return new(e||we)(l.Zb(j.b),l.Zb(s.a),l.Zb(u.a),l.Zb(d.a),l.Zb(o.a))},we.\u0275cmp=l.Tb({type:we,selectors:[["app-view-room"]],decls:59,vars:10,consts:[[1,"container-fluid","p-0"],[1,"box-container","mx-auto"],[1,"header"],["onclick","history.back()",1,"d-flex","align-items-center","text-dark"],["width","38","height","39","viewBox","0 0 38 39","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","19","cy","19.7747","r","18.5","stroke","#6C757D"],["d","M8.76354 19.3351L13.9963 14.3406C14.3868 13.9661 15.0228 13.9661 15.4133 14.3454C15.8039 14.72 15.8039 15.3299 15.4083 15.7045L11.8932 19.0566H29.4419C29.9927 19.0566 30.4434 19.4888 30.4434 20.0171C30.4434 20.5453 29.9927 20.9775 29.4419 20.9775H11.8932L15.4083 24.3296C15.7989 24.7042 15.8039 25.3141 15.4133 25.6887C15.0228 26.0633 14.3868 26.0681 13.9963 25.6935L8.76354 20.699C8.36796 20.3196 8.37297 19.7097 8.76354 19.3351Z","fill","#6C757D"],[1,"ml-2"],[1,"firstBox"],[1,"boxContent"],[1,"d-flex"],[1,"ml-auto","float-right","d-flex"],["mat-button","","color","primary",3,"routerLink"],[1,"border-box","mt-4"],[1,"row"],[1,"col-11"],[1,"ml-3"],[1,"mb-2"],["class","d-flex ",4,"ngIf"],[4,"ngIf"],[1,"images","mb-3"],[1,"mt-4"],[1,"border-box"],["class","row",4,"ngIf"],["class","d-flex col-md-3",4,"ngFor","ngForOf"],[1,"d-flex","col-md-3"],["class","d-flex",4,"ngIf"],["class","image-card","defaultImage","./../../../../assets/image/default-image.jpg","width","20","height","20",3,"lazyLoad",4,"ngIf"],["defaultImage","./../../../../assets/image/default-image.jpg","width","20","height","20",1,"image-card",3,"lazyLoad"],[1,"col-md-6"],["defaultImage","./../../../../assets/image/default-image.jpg","width","150","height","150",3,"lazyLoad",4,"ngIf"],["class","col-md-6 p-0 d-flex flex-column img-glry",4,"ngFor","ngForOf"],["defaultImage","./../../../../assets/image/default-image.jpg","width","150","height","150",3,"lazyLoad"],[1,"col-md-6","p-0","d-flex","flex-column","img-glry"],["class","rounded","defaultImage","./../../../../assets/image/default-image.jpg","width","150","height","150",3,"lazyLoad",4,"ngIf"],["defaultImage","./../../../../assets/image/default-image.jpg","width","150","height","150",1,"rounded",3,"lazyLoad"]],template:function(e,t){1&e&&(l.fc(0,"div",0),l.fc(1,"div",1),l.fc(2,"div",2),l.fc(3,"div"),l.fc(4,"a",3),l.qc(),l.fc(5,"svg",4),l.ac(6,"circle",5),l.ac(7,"path",6),l.ec(),l.pc(),l.fc(8,"span",7),l.Yc(9," Back"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(10,"div",8),l.fc(11,"div",9),l.fc(12,"div",10),l.fc(13,"div"),l.fc(14,"h2"),l.Yc(15),l.ec(),l.ec(),l.fc(16,"div",11),l.fc(17,"div"),l.fc(18,"button",12),l.Yc(19,"Book"),l.ec(),l.ec(),l.ec(),l.ec(),l.fc(20,"section"),l.fc(21,"div",13),l.fc(22,"div",14),l.fc(23,"div",15),l.fc(24,"div",10),l.fc(25,"div"),l.fc(26,"label"),l.Yc(27,"Room Type \xa0"),l.fc(28,"b"),l.Yc(29,":"),l.ec(),l.ec(),l.ec(),l.fc(30,"div",16),l.fc(31,"h3",17),l.Yc(32),l.ec(),l.ec(),l.ec(),l.fc(33,"div",10),l.fc(34,"div"),l.fc(35,"label"),l.Yc(36,"Floor \xa0"),l.fc(37,"b"),l.Yc(38,":"),l.ec(),l.ec(),l.ec(),l.fc(39,"div",16),l.fc(40,"h3",17),l.Yc(41),l.ec(),l.ec(),l.ec(),l.fc(42,"div",10),l.fc(43,"div"),l.fc(44,"label"),l.Yc(45,"Seater \xa0"),l.fc(46,"b"),l.Yc(47,":"),l.ec(),l.ec(),l.ec(),l.fc(48,"div",16),l.fc(49,"h3",17),l.Yc(50),l.ec(),l.ec(),l.ec(),l.Wc(51,pe,9,1,"div",18),l.Wc(52,ge,9,1,"div",18),l.ec(),l.ec(),l.ec(),l.Wc(53,be,6,1,"div",19),l.fc(54,"div",20),l.fc(55,"h4",21),l.Yc(56,"Room Images"),l.ec(),l.fc(57,"div",22),l.Wc(58,ke,7,6,"div",23),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec(),l.ec()),2&e&&(l.Lb(15),l.ad(" ","6065428d17d9243720f34eb8"==(null==t.inventory?null:t.inventory.inventoryType)?"Room":"Space"," Details "),l.Lb(3),l.zc("routerLink","/booking/confirm/"+t.inventory._id),l.Lb(14),l.bd("",null==t.inventory.spaceType?null:t.inventory.spaceType.name.replace("s","")," ",t.inventory.name," "),l.Lb(9),l.ad("",null==t.inventory.floor?null:t.inventory.floor.name," "),l.Lb(9),l.ad("",null==t.inventory?null:t.inventory.capacity," Seater "),l.Lb(1),l.zc("ngIf",null==t.inventory?null:t.inventory.description),l.Lb(1),l.zc("ngIf",null==t.inventory?null:t.inventory.direction),l.Lb(1),l.zc("ngIf",t.amenities.data),l.Lb(5),l.zc("ngIf",(null==t.inventory||null==t.inventory.taggedImages?null:t.inventory.taggedImages.length)>0))},directives:[k.b,o.f,c.n,c.m,C.b],pipes:[c.v],styles:[".box-container[_ngcontent-%COMP%]{height:100vh;background:#efefef}.box-container[_ngcontent-%COMP%], .firstBox[_ngcontent-%COMP%]{width:100%;max-width:480px}.firstBox[_ngcontent-%COMP%]{background:#c3e6f9;height:342px;padding:26px;margin:auto}.boxContent[_ngcontent-%COMP%]{background:#fff;box-shadow:-5px 5px 55px hsla(0,0%,78.8%,.25);border-radius:10px;display:flex;flex-direction:column;justify-content:center;padding:20px;position:relative;top:40px}.header[_ngcontent-%COMP%]{background:#feeae6;height:70px;display:flex;padding-left:15px;justify-content:space-between;align-items:center;position:sticky;z-index:10000;top:0}.boxContent[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Poppins;font-style:normal;font-weight:600;font-size:22px;line-height:30px;letter-spacing:.02em;color:#121212}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px}.boxContent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-family:Poppins;font-weight:500}label[_ngcontent-%COMP%]{font-size:14px;line-height:26px;width:110px}.border-box[_ngcontent-%COMP%]{background:#fff;padding:20px;border:1px solid #d9d9d9;border-radius:12px;min-height:200px}.bg-circle-yellow[_ngcontent-%COMP%]{background:#ffcd35}.bg-circle-warn[_ngcontent-%COMP%], .bg-circle-yellow[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50px;padding:12px}.bg-circle-warn[_ngcontent-%COMP%]{background:#ff784d}.bg-circle-blue[_ngcontent-%COMP%]{background:#176cff}.bg-circle-blue[_ngcontent-%COMP%], .bg-circle-green[_ngcontent-%COMP%]{width:42px;height:42px;border-radius:50px;padding:12px}.bg-circle-green[_ngcontent-%COMP%]{background:#04c4a5}.analytics[_ngcontent-%COMP%]{place-self:self-end;text-align:right}.w-20[_ngcontent-%COMP%]{width:200px}h4[_ngcontent-%COMP%]{font-weight:400!important}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:4px}.images[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .img-glry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:4px}.w-122[_ngcontent-%COMP%]{width:122px!important}"]}),we),canActivate:[a.a]},{path:"confirm/:id",component:ee,canActivate:[a.a]},{path:"details/:id",component:ue,canActivate:[a.a]}],Pe=((_e=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=l.Xb({type:_e}),_e.\u0275inj=l.Wb({factory:function(e){return new(e||_e)},imports:[[o.i.forChild(Le)],o.i]}),_e),Me=((Oe=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=l.Xb({type:Oe}),Oe.\u0275inj=l.Wb({factory:function(e){return new(e||Oe)},imports:[[c.c,Pe]]}),Oe)}}]);